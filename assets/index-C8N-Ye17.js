(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();const w={fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},de={silent:{level:-1},fatal:{level:w.fatal},error:{level:w.error},warn:{level:w.warn},log:{level:w.log},info:{level:w.info},success:{level:w.success},fail:{level:w.fail},ready:{level:w.info},start:{level:w.info},box:{level:w.info},debug:{level:w.debug},trace:{level:w.trace},verbose:{level:w.verbose}};function X(s){if(s===null||typeof s!="object")return!1;const e=Object.getPrototypeOf(s);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in s?!1:Symbol.toStringTag in s?Object.prototype.toString.call(s)==="[object Module]":!0}function Q(s,e,t=".",i){if(!X(e))return Q(s,{},t);const a=Object.assign({},e);for(const n in s){if(n==="__proto__"||n==="constructor")continue;const c=s[n];c!=null&&(Array.isArray(c)&&Array.isArray(a[n])?a[n]=[...c,...a[n]]:X(c)&&X(a[n])?a[n]=Q(c,a[n],(t?`${t}.`:"")+n.toString()):a[n]=c)}return a}function et(s){return(...e)=>e.reduce((t,i)=>Q(t,i,""),{})}const tt=et();function st(s){return Object.prototype.toString.call(s)==="[object Object]"}function it(s){return!(!st(s)||!s.message&&!s.args||s.stack)}let J=!1;const ue=[];class y{options;_lastLog;_mockFn;constructor(e={}){const t=e.types||de;this.options=tt({...e,defaults:{...e.defaults},level:Y(e.level,t),reporters:[...e.reporters||[]]},{types:de,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const i in t){const a={type:i,...this.options.defaults,...t[i]};this[i]=this._wrapLogFn(a),this[i].raw=this._wrapLogFn(a,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(e){this.options.level=Y(e,this.options.types,this.options.level)}prompt(e,t){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(e,t)}create(e){const t=new y({...this.options,...e});return this._mockFn&&t.mockTypes(this._mockFn),t}withDefaults(e){return this.create({...this.options,defaults:{...this.options.defaults,...e}})}withTag(e){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+e:e})}addReporter(e){return this.options.reporters.push(e),this}removeReporter(e){if(e){const t=this.options.reporters.indexOf(e);if(t!==-1)return this.options.reporters.splice(t,1)}else this.options.reporters.splice(0);return this}setReporters(e){return this.options.reporters=Array.isArray(e)?e:[e],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const e in this.options.types)console["__"+e]||(console["__"+e]=console[e]),console[e]=this[e].raw}restoreConsole(){for(const e in this.options.types)console["__"+e]&&(console[e]=console["__"+e],delete console["__"+e])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(e,t){e&&(e.__write||(e.__write=e.write),e.write=i=>{this[t].raw(String(i).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(e){e&&e.__write&&(e.write=e.__write,delete e.__write)}pauseLogs(){J=!0}resumeLogs(){J=!1;const e=ue.splice(0);for(const t of e)t[0]._logFn(t[1],t[2])}mockTypes(e){const t=e||this.options.mockFn;if(this._mockFn=t,typeof t=="function")for(const i in this.options.types)this[i]=t(i,this.options.types[i])||this[i],this[i].raw=this[i]}_wrapLogFn(e,t){return(...i)=>{if(J){ue.push([this,e,i,t]);return}return this._logFn(e,i,t)}}_logFn(e,t,i){if((e.level||0)>this.level)return!1;const a={date:new Date,args:[],...e,level:Y(e.level,this.options.types)};!i&&t.length===1&&it(t[0])?Object.assign(a,t[0]):a.args=[...t],a.message&&(a.args.unshift(a.message),delete a.message),a.additional&&(Array.isArray(a.additional)||(a.additional=a.additional.split(`
`)),a.args.push(`
`+a.additional.join(`
`)),delete a.additional),a.type=typeof a.type=="string"?a.type.toLowerCase():"log",a.tag=typeof a.tag=="string"?a.tag:"";const n=(h=!1)=>{const d=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&d>0){const m=[...this._lastLog.object.args];d>1&&m.push(`(repeated ${d} times)`),this._log({...this._lastLog.object,args:m}),this._lastLog.count=1}h&&(this._lastLog.object=a,this._log(a))};clearTimeout(this._lastLog.timeout);const c=this._lastLog.time&&a.date?a.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=a.date,c<this.options.throttle)try{const h=JSON.stringify([a.type,a.tag,a.args]),d=this._lastLog.serialized===h;if(this._lastLog.serialized=h,d&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin)){this._lastLog.timeout=setTimeout(n,this.options.throttle);return}}catch{}n(!0)}_log(e){for(const t of this.options.reporters)t.log(e,{options:this.options})}}function Y(s,e={},t=3){return s===void 0?t:typeof s=="number"?s:e[s]&&e[s].level!==void 0?e[s].level:t}y.prototype.add=y.prototype.addReporter;y.prototype.remove=y.prototype.removeReporter;y.prototype.clear=y.prototype.removeReporter;y.prototype.withScope=y.prototype.withTag;y.prototype.mock=y.prototype.mockTypes;y.prototype.pause=y.prototype.pauseLogs;y.prototype.resume=y.prototype.resumeLogs;function rt(s={}){return new y(s)}class ot{options;defaultColor;levelColorMap;typeColorMap;constructor(e){this.options={...e},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(e){return e<1?console.__error||console.error:e===1?console.__warn||console.warn:console.__log||console.log}log(e){const t=this._getLogFn(e.level),i=e.type==="log"?"":e.type,a=e.tag||"",c=`
      background: ${this.typeColorMap[e.type]||this.levelColorMap[e.level]||this.defaultColor};
      border-radius: 0.5em;
      color: white;
      font-weight: bold;
      padding: 2px 0.5em;
    `,h=`%c${[a,i].filter(Boolean).join(":")}`;typeof e.args[0]=="string"?t(`${h}%c ${e.args[0]}`,c,"",...e.args.slice(1)):t(h,c,...e.args)}}function De(s={}){return rt({reporters:s.reporters||[new ot({})],prompt(t,i={}){return i.type==="confirm"?Promise.resolve(confirm(t)):Promise.resolve(prompt(t))},...s})}De();const j=De({level:w.warn}),at={_byId(s){const e=document.getElementById(s);return e||j.error(`UI element not found: "${s}"`),e},_bySelector(s,e=document){const t=e.querySelectorAll(s);return(!t||t.length===0)&&j.error(`UI elements not found: "${s}"`),t},get mount(){return document.documentElement},get gameControls(){return{root:this._byId("controls"),restartGameButton:this._byId("game-restart"),toggleVolumeButton:this._byId("volume-toggle"),switchColorThemeButton:this._byId("color-theme-switch"),giveUpButton:this._byId("give-up"),openMenuButton:this._byId("menu-open"),icons:{unmutedIcon:this._byId("volume-unmuted-icon"),mutedIcon:this._byId("volume-muted-icon"),lightTheme:this._byId("theme-light-icon"),darkTheme:this._byId("theme-dark-icon")}}},get timer(){return{root:this._byId("timer"),display:this._byId("timer-display")}},get board(){const s=this._byId("board-content");return{root:s,cells:s?this._bySelector(".cell",s):[]}},get chat(){return{chat:this._byId("chat"),root:this._byId("chat-sidebar"),openButton:this._byId("menu-open"),closeButton:this._byId("close-sidebar")}},get modal(){return{body:this._byId("modal"),title:this._byId("modal-message"),board:this._byId("mini-board"),button:this._byId("modal-btn")}},get score(){return{cross:this._byId("score-cross-player"),zero:this._byId("score-zero-player"),crossLabel:this._byId("score-cross-label"),zeroLabel:this._byId("score-zero-label")}}},nt="/tictactoe/assets/cell-click-yr6HZITF.wav",ct="/tictactoe/assets/loose-BIu51ylJ.wav",lt="/tictactoe/assets/win-DU-AANKB.wav",ht={win:lt,cellClick:nt,loose:ct},dt="/tictactoe/assets/hannibal-sj9cgfe0.png",ut="/tictactoe/assets/heizenberg-DwhpS9tw.png",mt="/tictactoe/assets/postaldude-BlL1uSV8.png",ft="/tictactoe/assets/tylerdurden-CupGO7Lm.png",pt="/tictactoe/assets/tywinlanister-BBa7a6fi.png",gt={hannibal:dt,heizenberg:ut,postaldude:mt,tylerdurden:ft,tywinlanister:pt};function g(s,e,t=null){const i=s?.constructor?.name??s?.name??"UnknownContext";j.start(`[Event] ${e.name} emitted by ${i}`,Me(null,t))}function I(s,e,t,i=null){const a=s?.constructor?.name??s?.name??"UnknownContext";j.info(`[Event] ${e.name} handled by ${a}.${t?.name}`,Me(a,i))}function Me(s,e){const t={};return s?.name&&(t.context=s.name),e!==void 0&&(t.payload=e),t}const bt=s=>({ok:!0,value:s}),me=(s,e)=>({ok:!1,value:null,error:{code:s,message:e}});function S(s,e=!1){if(!Array.isArray(s))throw new Error(`${s} —ç—Ç–æ –Ω–µ –º–∞—Å—Å–∏–≤`);const t=Math.floor(Math.random()*s.length);return e?t:s[t]}function yt(s,e){return Math.floor(Math.random()*(e-s+1))+s}function vt(s){return s>1&&(s=s/100),Math.random()<=s}function Ae(s,e,t={}){const{wrap:i="",nick:a="",msg:n=""}=t,c=document.createElement("div");c.className=`chat-message flex py-5 pb-2 gap-4 items-start ${i}`.trim();const h=document.createElement("img");h.className="w-10 h-10 sm:w-12 sm:h-12 rounded-full flex-shrink-0",h.src=gt[s.toLowerCase()],h.alt="pfp";const d=document.createElement("div");d.className="flex flex-col";const m=document.createElement("div");m.className=`__nickname text-purple-500 font-bold tracking-tighter ${a}`.trim(),m.textContent=s;const p=document.createElement("div");return p.className=`__message tracking-wide font-[roboto] ${n}`.trim(),p.textContent=e,d.append(m,p),c.append(h,d),c}const r=(s,e,t)=>({message:s,className:e,chance:t}),o=Object.freeze({Sarcasm:"italic",Default:""}),wt={win:[r("–ë—Ä–∞–≤–æ. –¢—ã –æ–∫–∞–∑–∞–ª—Å—è‚Ä¶ –¥–æ—Å—Ç–æ–π–Ω—ã–º –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–º.",o.Default,100),r("–ò–∑—è—â–Ω–∞—è –ø–∞—Ä—Ç–∏—è. –Ø –∑–∞–ø–æ–º–Ω—é —Ç–≤–æ–π –≤–∫—É—Å.",o.Default,100),r("–¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª —Å –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–æ–º. –≠—Ç–æ —Ä–µ–¥–∫–æ—Å—Ç—å.",o.Sarcasm,100),r("–Ø –≤—Å–µ–≥–¥–∞ –≤—ã–∏–≥—Ä—ã–≤–∞—é. –í–æ–ø—Ä–æ—Å –ª–∏—à—å –≤ —Ç–æ–º ‚Äî –∫–∞–∫ –±—ã—Å—Ç—Ä–æ.",o.Default,100),r("–¢–≤–æ—è –±–æ—Ä—å–±–∞ –±—ã–ª–∞ –≤–æ—Å—Ö–∏—Ç–∏—Ç–µ–ª—å–Ω–∞. –ö–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –¥—ã—Ö–∞–Ω–∏–µ.",o.Default,100)],loose:[r("–ü–æ–∑–¥—Ä–∞–≤–ª—è—é. –¢—ã –æ–∫–∞–∑–∞–ª—Å—è‚Ä¶ –æ—Å—Ç—Ä–µ–µ, —á–µ–º —è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª.",o.Default,100),r("–°–µ–≥–æ–¥–Ω—è —Ç—ã –ø–æ–±–µ–¥–∏–ª. –ù–∞—Å–ª–∞–∂–¥–∞–π—Å—è. –≠—Ç–æ –Ω–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è.",o.Sarcasm,100),r("–¢—ã –≤—ã–∂–∏–ª. –ü–æ–∫–∞ —á—Ç–æ —ç—Ç–æ –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç.",o.Default,100),r("–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å ‚Äî —Ä–µ–¥–∫–∏–π –¥–µ–ª–∏–∫–∞—Ç–µ—Å.",o.Default,100)],draw:[r("–ù–∏—á—å—è. –ò–¥–µ–∞–ª—å–Ω–∞—è —Å–∏–º–º–µ—Ç—Ä–∏—è.",o.Default,100),r("–ù–∏–∫—Ç–æ –Ω–µ —É–º–µ—Ä. –ö–∞–∫ —Å–∫—É—á–Ω–æ‚Ä¶ –∏ –∫–∞–∫ –∫—Ä–∞—Å–∏–≤–æ.",o.Sarcasm,100),r("–ú—ã –æ–±–∞ –ø—Ä–æ—è–≤–∏–ª–∏ –æ—Ç–º–µ–Ω–Ω—ã–π –≤–∫—É—Å.",o.Sarcasm,100)],defense:[r("–¢—ã –∑–∞—Å—Ç–∞–≤–ª—è–µ—à—å –º–µ–Ω—è –∑–∞—â–∏—â–∞—Ç—å—Å—è. –ö–∞–∫ –Ω–µ–≤–µ–∂–ª–∏–≤–æ.",o.Sarcasm,100),r("–¢–≤–æ–∏ —É–≥—Ä–æ–∑—ã‚Ä¶ —Ç–∞–∫–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ.",o.Default,100),r("–Ø —á—É–≤—Å—Ç–≤—É—é —Ç–≤–æ–π —Å—Ç—Ä–∞—Ö. –û–Ω –ø–∞—Ö–Ω–µ—Ç –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ.",o.Default,100)],center:[r("–¶–µ–Ω—Ç—Ä ‚Äî —ç—Ç–æ —Å–µ—Ä–¥—Ü–µ. –¢—ã –µ–≥–æ —Ç–æ–ª—å–∫–æ —á—Ç–æ –æ—Ç–¥–∞–ª.",o.Default,100),r("–ö—Ç–æ –≤–ª–∞–¥–µ–µ—Ç —Ü–µ–Ω—Ç—Ä–æ–º ‚Äî –≤–ª–∞–¥–µ–µ—Ç —Ç—Ä–∞–ø–µ–∑–æ–π.",o.Default,100)],random:[r("–ì—Ä—É–±–æ—Å—Ç—å ‚Äî –ø—Ä–∏–≤–∫—É—Å –Ω–µ–≤–æ—Å–ø–∏—Ç–∞–Ω–Ω–æ—Å—Ç–∏.",o.Default,100),r("–¢–∏—à–∏–Ω–∞, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞. –Ø –Ω–∞—Å–ª–∞–∂–¥–∞—é—Å—å —Ç–≤–æ–∏–º –æ—Ç—á–∞—è–Ω–∏–µ–º.",o.Sarcasm,100),r("Quid pro quo. –¢—ã –∏–≥—Ä–∞–µ—à—å ‚Äî —è –Ω–∞–±–ª—é–¥–∞—é.",o.Default,100),r("–ù–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª—É—á–∞–π–Ω–æ.",o.Default,100)],fork:[r("–î–≤–∞ –ø—É—Ç–∏. –û–±–∞ –≤–µ–¥—É—Ç –∫–æ –º–Ω–µ.",o.Sarcasm,100),r("–í—ã–±–∏—Ä–∞–π. –Ø —É–∂–µ –≤—ã–±—Ä–∞–ª —Å–æ—É—Å.",o.Default,100)],emojiPresets:{aiWin:["üç∑","üçΩÔ∏è","ü´Ä","üî™","üñ§"],aiLose:["üòî","üöî","üîó","üè•"]}},Ct={win:[r("–Ø —Ç–æ—Ç, –∫—Ç–æ —Å—Ç—É—á–∏—Ç. –ù–µ—Ç, —è –Ω–µ —Å—Ç—É–∫–∞—á, –Ω–µ –ø–æ–¥—É–º–∞–π...",o.Default,100),r("–ù–∞–∑–æ–≤–∏ –º–æ—ë –∏–º—è. –ù–µ—Ç, –ø—Ä–∞–≤–¥–∞. –ù–∞–∑–æ–≤–∏",o.Sarcasm,100),r("–Ø –ø–æ–±–µ–¥–∏–ª.",o.Default,100),r("–ó–Ω–∞–µ—à—å, –ª—É—á—à–µ –±—ã —Ä–∞–∫ –º–µ–Ω—è –¥–æ–±–∏–ª. –≠—Ç–æ –±—ã–ª–æ –±—ã –≤—Å—è–∫–æ –ª—É—á—à–µ, —á–µ–º –∏–≥—Ä–∞—Ç—å —Å —Ç–æ–±–æ–π",o.Sarcasm,100),r("–ò–¥—Ç–∏ –º–æ–∂–µ—à—å? –¢–∞–∫ –∏–¥–∏ –æ—Ç—Å—é–¥–∞ –Ω–∞—Ö–µ—Ä",o.Default,100)],loose:[r("–≠—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ —Å–ª—É—á–∏—Ç—å—Å—è.",o.Default,100),r("–≠—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –≤—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ—É–¥–∞—á–∞.",o.Default,100),r("–Ø –≤–µ—Ä–Ω—É—Å—å. –ò —Ç—ã –ø–æ–∂–∞–ª–µ–µ—à—å.",o.Sarcasm,100),r("–Ø —á—É–≤—Å—Ç–≤—É—é‚Ä¶ —Å–ª–∞–±–æ—Å—Ç—å.",o.Default,100)],draw:[r("–ú—ã –æ–±–∞ —Å–ª–∏—à–∫–æ–º —Ö–æ—Ä–æ—à–∏.",o.Sarcasm,100),r("–†–∞–≤–Ω–æ–≤–µ—Å–∏–µ. –ü–æ–∫–∞.",o.Default,100),r("–¢—ã –¥–µ—Ä–∂–∏—à—å—Å—è. –ü–æ–∫–∞ –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç.",o.Sarcasm,100),r("–ú—ã –æ–±–∞ –≤—Å—ë –µ—â—ë —Å—Ç–æ–∏–º.",o.Default,100),r("–ü–æ–∫–∞ –º—ã –Ω–∞ —Ä–∞–≤–Ω—ã—Ö.",o.Default,100)],defense:[r("–¢—ã –Ω–µ –ø—Ä–æ–π–¥—ë—à—å.",o.Sarcasm,100),r("–≠—Ç–æ –º–æ—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è.",o.Default,100),r("–Ø –Ω–∞ —Ç—Ä–∏ —Ö–æ–¥–∞ –≤–ø–µ—Ä–µ–¥–∏.",o.Default,100),r("–ü–æ–ø—Ä–æ–±—É–π. –Ø –∂–¥—É.",o.Sarcasm,100)],center:[r("–¶–µ–Ω—Ç—Ä –º–æ–π.",o.Default,100),r("–Ø –¥–∏–∫—Ç—É—é –ø—Ä–∞–≤–∏–ª–∞ –≤ —Å–µ—Ä–¥—Ü–µ –ø–æ–ª—è.",o.Sarcasm,100),r("–¢—ã —Ö–æ—á–µ—à—å —Ü–µ–Ω—Ç—Ä? –ü—Ä–∏–¥—ë—Ç—Å—è –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—è.",o.Sarcasm,100)],random:[r("–°–ª—É—á–∞–π–Ω–æ—Å—Ç—å? –Ø –Ω–µ –≤–µ—Ä—é –≤ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏.",o.Default,100),r("–ö–∞–∂–¥—ã–π ¬´—Å–ª—É—á–∞–π–Ω—ã–π¬ª —Ö–æ–¥ —è –ø—Ä–æ—Å—á–∏—Ç–∞–ª –µ—â—ë –≤—á–µ—Ä–∞.",o.Default,100),r('–Ø —É–ø—Ä–∞–≤–ª—è—é –¥–∞–∂–µ —Ç–≤–æ–∏–º–∏ "—Å—é—Ä–ø—Ä–∏–∑–∞–º–∏".',o.Sarcasm,100)],fork:[r("–í–∏–ª–∫–∞? –Ø —É–∂–µ –≤—ã–±—Ä–∞–ª –∑–∞ —Ç–µ–±—è.",o.Sarcasm,100),r("–î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ ‚Äî –æ–±–∞ –º–æ–∏.",o.Default,100),r("–í–∏–ª–∫–∞ ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —è –ø–æ–∑–≤–æ–ª—è—é —Ç–µ–±–µ –¥—É–º–∞—Ç—å, —á—Ç–æ —É —Ç–µ–±—è –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã.",o.Default,100),r("–õ—é–±–æ–π —Ç–≤–æ–π –≤—ã–±–æ—Ä –≤–µ–¥—ë—Ç –∫–æ –º–Ω–µ.",o.Default,100),r("–Ø –≤–∏–¥–µ–ª —ç—Ç—É —Ä–∞–∑–≤–∏–ª–∫—É –µ—â—ë –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Ç—ã —Ä–æ–¥–∏–ª—Å—è.",o.Sarcasm,100),r("–í—ã–±–∏—Ä–∞–π. –í—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–æ–∏–≥—Ä–∞–µ—à—å.",o.Sarcasm,100)],emojiPresets:{aiWin:["üíô","üß™","üíé","üòà","üëë","ü§†","üîµ","üí∞","üòé","üó£Ô∏è"],aiLoose:["üöî","üòî","üîó","üòû","‚ö∞Ô∏è","ü§ê","üò∑","üèúÔ∏è","üöì","üíî"]}},St={win:[r("–ß–µ–ª, —Ç—ã —Ö–æ—Ç—å —Ä–∞–∑ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤–æ–æ–±—â–µ –≤–∫–ª—é—á–∞–ª?",o.Default,100),r("–í—ã–∫—É—Å–∏",o.Default,100),r("–Ø –Ω–µ –≤–∏–∂—É –ø—Ä–∏—á–∏–Ω —Å–æ–º–Ω–µ–≤–∞—Ç—å—Å—è –≤ —Å–µ–±–µ‚Ä¶ —Å–µ–≥–æ–¥–Ω—è",o.Default,100),r("–ë–ª–∞–≥–æ—Å–ª–æ–≤–∏ –º–µ–Ω—è, –æ—Ç—á–µ, —è —Å-—Å-—Å–∏–ª—å–Ω–æ —Å–æ–≥—Ä–µ—à–∏–ª, –æ—á-—á–µ–Ω—å —Å–∏–ª—å–Ω–æ! –ù–µ, —è –Ω–µ —à—É—á—É, —è –ë–û–õ–¨–®–û–ô –ì–†–ï–®–ù–ò–ö, –¥–∞!",o.Default,100),r("–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–∞ - —Å–¥–µ–ª–∞–Ω–æ, –æ–±–Ω–∞–ª–∏—á–∏—Ç—å —á–µ–∫ - —Å–¥–µ–ª–∞–Ω–æ, —Ç–≤–æ—è –º–∞–º–∞ - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ",o.Default,100),r("–•–∞, —Ç–µ–ø–µ—Ä—å —Ç—ã —Ç–æ—á–Ω–æ –¥–æ–ª–∂–µ–Ω –ø–æ–¥–ø–∏—Å–∞—Ç—å –ø–µ—Ç–∏—Ü–∏—é",o.Default,100),r("–ï—â—ë –æ–¥–Ω–∞ –ø–æ–±–µ–¥–∞ –¥–ª—è –¥–µ–º–æ–∫—Ä–∞—Ç–∏–∏",o.Default,100),r("–•–∞—Ö–∞—Ö–∞—Ö–∞, —Ç—ã... –≠—ç—ç... –Ø –Ω–µ –ø—Ä–∏–¥—É–º–∞–ª, –Ω–æ —Ç—ã —Ç–æ—á–Ω–æ –Ω–µ –∫—Ä—É—Ç–æ–π",o.Default,100),r("–¢—ã, –≤–µ—Ä–æ—è—Ç–Ω–æ, –∏ –Ω–µ –¥—É–º–∞–ª, —á—Ç–æ —Ç–µ–±–µ —Å—É–∂–¥–µ–Ω–æ –ø—Ä–æ–∏–≥—Ä–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è‚Ä¶ –°—é—Ä–ø—Ä–∏–∑!!!",o.Default,100)],loose:[r("–û–∫–µ–π-–æ–∫–µ–π, –≤—ã–∏–≥—Ä–∞–ª –≤ –∫—Ä–µ—Å—Ç–∏–∫–∞—Ö –Ω–æ–ª–∏–∫–∞—Ö —É –µ–¥–∏–Ω–∏—Ü –∏ –Ω–æ–ª–∏–∫–æ–≤. –ü–æ–∑–æ–≤–∏ –º–∞–º–æ—á–∫—É, –ø–æ—Ö–≤–∞—Å—Ç–∞–π—Å—è –ø–µ—Ä–µ–¥ –Ω–µ–π",o.Default,100),r("–î–∞–∂–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç—å –≤ —ç—Ç–æ–π –ø–∞—Ä–∞—à–µ –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ, —á–µ–º –≤—ã–∏–≥—Ä—ã–≤–∞—Ç—å –≤ minds eye",o.Default,100),r("–ú–æ–∂–µ—Ç —Ö–æ—Ç—è –±—ã –ø–µ—Ç–∏—Ü–∏—é –ø–æ–¥–ø–∏—à–µ—à—å?",o.Default,100),r("–ú–æ–π –Ω–æ–ª–∏–∫‚Ä¶ —É–Ω–∏–∂–µ–Ω! –ß—ë—Ä—Ç –≤–æ–∑—å–º–∏!",o.Default,100),r("–ú—ã –æ–±–∞ –ø—Ä–æ–∏–≥—Ä–∞–ª–∏‚Ä¶ –≤ –∫–∞–∫–æ–º-—Ç–æ —Å–º—ã—Å–ª–µ",o.Default,100),r("–ù–∏—á—å—è ‚Äî –µ—â—ë –æ–¥–∏–Ω –ø–æ–≤–æ–¥ —É—Å—Ç—Ä–æ–∏—Ç—å –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—É",o.Sarcasm,100),r("–¢—ã –∂–µ –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–µ –∞–Ω–æ–Ω–∏–º–µ–Ω, –¥–∞?",o.Default,100),r("–Ø —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –¥–µ—Ä—å–º–æ–º.",o.Default,100),r("–Ø... –Ω–∏ –æ —á—ë–º... –Ω–µ –∂–∞–ª–µ—é.",o.Default,100),r("–ß—Ç–æ-—Ç–æ —É —Ç–µ–±—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ä–∞–¥–æ—Å—Ç–∏, –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞ —Å –ø–æ–¥–∂–∏–≥–∞–µ–º—ã–º –¥–æ–º–æ–º",o.Default,100)],draw:[r("–î–∞ —Ç—ã –ø—Ä–æ—Å—Ç–æ –∑–∞—Å—Ä–∞–ª —Å–≤–æ–∏–º–∏ –∫—Ä–µ—Å—Ç–∏–∫–∞–º–∏ –≤—Å—ë –ø–æ–ª–µ",o.Default,100),r("–†–∞–∑ –º—ã —Ä–∞–∑–æ—à–ª–∏—Å—å –ø–æ–ª—é–±–æ–≤–Ω–æ... –ü–æ–¥–ø–∏—à–µ—à—å –ø–µ—Ç–∏—Ü–∏—é?",o.Default,100),r("–ú—ã –æ–±–∞ –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. –ù–æ —Ç—ã –±–æ–ª—å—à–µ",o.Default,100),r("–ß—É–≤–∞–∫... –ú—ã –ø–æ —Ö–æ–¥—É –æ–±–∞ –ø—Ä–æ–∏–≥—Ä–∞–ª–∏...",o.Default,100),r("–ù–∏—á—å—è? –ß–µ—Ä—Ç, —è –¥—É–º–∞–ª —ç—Ç–æ –±—É–¥–µ—Ç —Ö–∞–æ—Å... –ê —Ç—É—Ç –ø—Ä–æ—Å—Ç–æ –Ω–∏—á—Ç–æ",o.Default,100),r("–ò –¥–∞–∂–µ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–∑–æ—Ä–≤–∞–ª–æ—Å—å? –Ø —Ä–∞-–∑–æ-—á–∞-—Ä–æ-–≤–∞–Ω",o.Default,100),r("–ù–µ—É–∂–µ–ª–∏ –º—ã –Ω–µ –º–æ–∂–µ–º —É–∂–∏—Ç—å—Å—è?",o.Sarcasm,100),r("–≠–π, –Ω—É –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –Ω–æ–≤–æ—Å—Ç–∏ –Ω–µ –≤—Å–µ –ø–ª–æ—Ö–∏–µ.",o.Default,100)],defense:[r("–•—Ä–µ–Ω —Ç–∞–º. –ù–µ —Ç–∞–∫ –±—ã—Å—Ç—Ä–æ.",o.Sarcasm,100),r("–î—É–º–∞–µ—à—å —Ç—ã —Å–∞–º—ã–π —É–º–Ω—ã–π? –í—Ä—è–¥ –ª–∏",o.Sarcasm,100),r("–ü–æ—Å–º–æ—Ç—Ä–∏–º —á—Ç–æ —Ç—ã –µ—â—ë –º–æ–∂–µ—à—å –≤—ã–∫–∏–Ω—É—Ç—å",o.Default,100),r("–ü–µ—Ç–∏—Ü–∏—è –∏–ª–∏ —Ö–∞–æ—Å ‚Äî –≤—ã–±–æ—Ä –∑–∞ —Ç–æ–±–æ–π!",o.Default,100),r("–ù–µ—Ç!",o.Sarcasm,100),r("–ù–∏ –∑–∞ —á—Ç–æ!",o.Sarcasm,100),r("–ù–µ –≤—ã–π–¥–µ—Ç!",o.Sarcasm,100)],center:[r("–¶–µ–Ω—Ç—Ä —ç—Ç–æ –∫–∞–∫ –±–µ–Ω–∑–∏–Ω... –î–æ—Ä–æ–∂–∞–µ—Ç?",o.Sarcasm,100),r("–í—ã –Ω–µ –ø–æ–¥–ø–∏—à–∏—Ç–µ –º–æ—é –ø–µ—Ç–∏—Ü–∏—é?",o.Sarcasm,100),r("–°—á—ë—Ç!",o.Sarcasm,100),r("–¢–µ–ø–µ—Ä—å-—Ç–æ —Ç—ã —Ç–æ—á–Ω–æ –≤ –∂–æ–ø–µ...",o.Default,100)],random:[r("–°–¥–∞–≤–∞–π—Å—è –∏–ª–∏ —Å–º–µ—Ä—Ç—å - –≤—ã–±–∏—Ä–∞–π –ø–æ–∫–∞ –Ω–µ —Ä–µ—à–∏–ª —è",o.Sarcasm,100),r("–í–ø–µ—á–∞—Ç–ª–µ–Ω? –î–∞? –ù–µ—Ç? –ù–∞—Å—Ä–∞—Ç—å",o.Sarcasm,100),r("–≠–º...",o.Sarcasm,100),r("–õ–∞–¥–Ω–æ.",o.Default,100),r("–•–º.",o.Sarcasm,100),r("–ê —á–µ –∑–∞ –∏–≥—Ä–∞ –≤–æ–æ–±—â–µ? –ö–∞–∫ —Å—Ç—Ä–µ–ª—è—Ç—å?",o.Default,100)],fork:[r("–í–∏–ª–∫–æ–π –≤ –≥–ª–∞–∑ –∏–ª–∏... –≥–æ –Ω–µ–∫—Å—Ç?",o.Default,100),r("–•–ê–•–ê, –î–í–ï –£–ì–†–û–ó–´ –°–†–ê–ó–£. –Ø –ì–ï–ù–ò–ô",o.Default,100),r("–î–≤–æ–π–Ω–æ–π —Å—é—Ä–ø—Ä–∏–∑, –º—É–¥–∏–ª–∞",o.Sarcasm,100),r("–≠—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –º–µ–Ω—è, –Ω–æ —è —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –û–¢–õ–ò–ß–ù–û! ",o.Sarcasm,100),r("–Ø —Ä–∞–≤–Ω–æ–ø—Ä–∞–≤–Ω—ã–π –ø—Å–∏—Ö!",o.Sarcasm,100),r("–ò –µ—â—ë –æ–¥–Ω—É –¥–ª—è –≤–µ—Ä–Ω–æ—Å—Ç–∏!",o.Sarcasm,100)],emojiPresets:{aiWin:["üíÄ","‚ò†Ô∏è","üî™","ü©∏","üòà","ü§°","üñï","üî´","üí£","üß®"],aiLoose:["üî•","üí•","‚ö°","üòé","üñï","ü§Ø","üí∞","ü§ô","üëå","üèÜ"]}},_t={win:[r("–¢—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø—Ä–æ–∏–≥—Ä–∞–ª —á–µ–ª–æ–≤–µ–∫—É, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –Ω–∏—á–µ–≥–æ.",o.Sarcasm,100),r("–°–∞–º–æ—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –º–∞—Å—Ç—É—Ä–±–∞—Ü–∏—è. –ê —è —É–∂–µ –∫–æ–Ω—á–∏–ª.",o.Sarcasm,100),r("–¢—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –º–µ–Ω—è –≤ –æ—á–µ–Ω—å —Å—Ç—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –º–æ–µ–π –∂–∏–∑–Ω–∏.",o.Sarcasm,100),r("–Ø —Å–≤–æ–±–æ–¥–µ–Ω –≤–æ –≤—Å—ë–º, —á–µ–≥–æ —Ç—ã –±–æ–∏—à—å—Å—è.",o.Default,100)],loose:[r("–Ø –ø—Ä–æ–∏–≥—Ä–∞–ª‚Ä¶ –∏ –º–Ω–µ –ø–æ—Ö–µ—Ä.",o.Default,100),r("–ü–æ—Ä–∞–∂–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –µ—â—ë –æ–¥–∏–Ω —Å–∏–Ω—è–∫.",o.Default,100),r("–¢—ã –¥—É–º–∞–µ—à—å, —ç—Ç–æ –∫–æ–Ω–µ—Ü? –≠—Ç–æ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ.",o.Sarcasm,100)],draw:[r("–ù–∏–∫—Ç–æ –Ω–µ –ø–æ–±–µ–¥–∏–ª. –ù–∏–∫—Ç–æ –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω.",o.Default,100),r("–†–∞–≤–Ω–æ–≤–µ—Å–∏–µ? –ú—ã –æ–±–∞ –∑–Ω–∞–µ–º, —á—Ç–æ –æ–Ω–æ —Å–∫–æ—Ä–æ —Ä—É—Ö–Ω–µ—Ç.",o.Sarcasm,100),r("–ú—ã –æ–±–∞ –≤—Å—ë –µ—â—ë —Å—Ç–æ–∏–º. –≠—Ç–æ —É–∂–µ –ø–æ–±–µ–¥–∞.",o.Default,100),r("–°–µ–≥–æ–¥–Ω—è –º—ã –æ–±–∞ –∫—Ä–æ–≤–æ—Ç–æ—á–∏–º. –ò–¥–µ–∞–ª—å–Ω–æ.",o.Sarcasm,100),r("–ù–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∞—Å –Ω–µ —Å–ª–æ–º–∞–ª—Å—è. –ü–æ–∫–∞.",o.Default,100)],defense:[r("–£–¥–∞—Ä—å –º–µ–Ω—è.",o.Sarcasm,100),r("–°–∏–ª—å–Ω–µ–µ.",o.Default,100),r("–Ø —Ö–æ—á—É —ç—Ç–æ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å.",o.Default,100),r("–ú–Ω–µ –Ω–µ—á–µ–≥–æ —Ç–µ—Ä—è—Ç—å.",o.Default,100)],center:[r("–Ø –Ω–µ –±–µ—Ä—É —Ü–µ–Ω—Ç—Ä. –Ø –∏–º —è–≤–ª—è—é—Å—å.",o.Sarcasm,100),r("–°–µ—Ä–µ–¥–∏–Ω–∞ –¥–æ—Å–∫–∏ ‚Äî –º–µ—Å—Ç–æ, –≥–¥–µ —Ä—É—à–∞—Ç—Å—è –∏–ª–ª—é–∑–∏–∏.",o.Default,100),r("–ö—Ç–æ –≤–ª–∞–¥–µ–µ—Ç —Ü–µ–Ω—Ç—Ä–æ–º ‚Äî –≤–ª–∞–¥–µ–µ—Ç –±–æ–ª—å—é.",o.Sarcasm,100),r("–Ø –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é —Ü–µ–Ω—Ç—Ä. –¶–µ–Ω—Ç—Ä –±–æ–∏—Ç—Å—è –º–µ–Ω—è.",o.Sarcasm,100)],random:[r("–¢—ã –≤—Å—ë –µ—â—ë –¥—É–º–∞–µ—à—å, —á—Ç–æ —ç—Ç–æ –∏–≥—Ä–∞?",o.Sarcasm,100),r("–ü–µ—Ä–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ: —Ç—ã –Ω–µ –≥–æ–≤–æ—Ä–∏—à—å –æ –∫—Ä–µ—Å—Ç–∏–∫–∞—Ö-–Ω–æ–ª–∏–∫–∞—Ö.",o.Sarcasm,100),r("–í—Ç–æ—Ä–æ–µ –ø—Ä–∞–≤–∏–ª–æ: –¢–´ –ù–ï –ì–û–í–û–†–ò–®–¨ –û –ö–†–ï–°–¢–ò–ö–ê–•-–ù–û–õ–ò–ö–ê–•!",o.Default,100),r("–í—Å—ë, —á—Ç–æ —Ç—ã –ª—é–±–∏—à—å ‚Äî –æ–¥–Ω–∞–∂–¥—ã –∏—Å—á–µ–∑–Ω–µ—Ç.",o.Default,100),r("–¢—ã ‚Äî —Ç–æ—Ç –∂–µ –≥–Ω–∏—é—â–∏–π –∫—É—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∫–∏, —á—Ç–æ –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ.",o.Sarcasm,100),r("–û—Ç–ø—É—Å—Ç–∏. –í—Å—ë.",o.Default,100)],fork:[r("–î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞? –û–±–∞ –≤–µ–¥—É—Ç –≤ –∞–¥. –í—ã–±–∏—Ä–∞–π –±—ã—Å—Ç—Ä–µ–µ.",o.Sarcasm,100),r("–í–∏–ª–∫–∞? –Ø —É–∂–µ —É–¥–∞—Ä–∏–ª —Ç–µ–±—è –ø–æ –ª–∏—Ü—É –±—É–¥—É—â–∏–º.",o.Sarcasm,100)],emojiPresets:{aiWin:["üí•","üëä","üî•","üòà","üßº","ü©∏","‚úä","üß®","üè¥‚Äç‚ò†Ô∏è","üñï"],aiLoose:["üòµ","ü§ï","ü©∏","üò≠","üè•","üíî","üöë","ü™¶","ü§¶","üòû"]}},It={win:[r("–õ–µ–≤ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç—Å—è –º–Ω–µ–Ω–∏–µ–º –æ–≤–µ—Ü.",o.Default,100),r("–Ø –ø–æ–±–µ–¥–∏–ª –µ—â—ë –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Ç—ã —Å–¥–µ–ª–∞–ª –ø–µ—Ä–≤—ã–π —Ö–æ–¥.",o.Sarcasm,100),r("–¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª –≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ —Ä–µ—à–∏–ª, —á—Ç–æ –º–æ–∂–µ—à—å –∏–≥—Ä–∞—Ç—å —Å–æ –º–Ω–æ–π.",o.Default,100),r("–õ—é–±–æ–π —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –≥–æ–≤–æ—Ä–∏—Ç—å ¬´—è –∫–æ—Ä–æ–ª—å¬ª, ‚Äî –Ω–µ –Ω–∞—Å—Ç–æ—è—â–∏–π –∫–æ—Ä–æ–ª—å.",o.Sarcasm,100),r("–¢–≤–æ—ë –ø–æ—Ä–∞–∂–µ–Ω–∏–µ –±—ã–ª–æ –Ω–µ–∏–∑–±–µ–∂–Ω–æ.",o.Default,100),r("–¢—ã –¥—É–º–∞–ª, —á—Ç–æ —ç—Ç–æ –∏–≥—Ä–∞–µ—à—å —Å–æ –º–Ω–æ–π. –Ø –∏–≥—Ä–∞–ª —Å —Ç–æ–±–æ–π.",o.Sarcasm,100),r("–£—Ä–æ–∫ –æ–∫–æ–Ω—á–µ–Ω. –ü–ª–∞—Ç–∏.",o.Default,100),r("–ó–∞–ø–æ–º–Ω–∏ —ç—Ç–æ —á—É–≤—Å—Ç–≤–æ. –û–Ω–æ –±—É–¥–µ—Ç –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–µ–±—è –¥–æ –∫–æ–Ω—Ü–∞ —Ç–≤–æ–∏—Ö –¥–Ω–µ–π.",o.Default,100),r("–Ø –Ω–µ –≤—ã–∏–≥—Ä—ã–≤–∞—é –±–∏—Ç–≤—ã. –Ø –≤—ã–∏–≥—Ä—ã–≤–∞—é –≤–æ–π–Ω—ã.",o.Default,100),r("–¢—ã –±—ã–ª –ø–µ—à–∫–æ–π. –¢–µ–ø–µ—Ä—å —Ç—ã ‚Äî —Ç—Ä—É–ø –Ω–∞ –¥–æ—Å–∫–µ.",o.Sarcasm,100),r("–°–ª–∞–±–æ—Å—Ç—å –Ω–µ –ø—Ä–æ—â–∞–µ—Ç—Å—è.",o.Default,100)],loose:[r("–ù–µ–ø—Ä–∏–µ–º–ª–µ–º–æ.",o.Default,100),r("–ü–æ—Ä–∞–∂–µ–Ω–∏–µ‚Ä¶ –ª—é–±–æ–ø—ã—Ç–Ω–æ.",o.Default,100),r("–¢—ã –≤—ã–∏–≥—Ä–∞–ª —Å—Ä–∞–∂–µ–Ω–∏–µ. –í–æ–π–Ω—É ‚Äî –Ω–µ—Ç.",o.Sarcasm,100),r("–Ø –∑–∞–ø–æ–º–Ω—é —ç—Ç–æ.",o.Default,100),r("–¢—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ–¥–ø–∏—Å–∞–ª —Å–µ–±–µ –ø—Ä–∏–≥–æ–≤–æ—Ä. –ü—Ä–æ—Å—Ç–æ –µ—â—ë –Ω–µ –∑–Ω–∞–µ—à—å –æ–± —ç—Ç–æ–º.",o.Default,100),r("–¢—ã –¥—É–º–∞–µ—à—å, —ç—Ç–æ –∫–æ–Ω–µ—Ü? –≠—Ç–æ –ª–∏—à—å –ø–æ–≤–æ–¥ —Å—Ç–∞—Ç—å –∂—ë—Å—Ç—á–µ.",o.Sarcasm,100),r("–Ø –ø—Ä–æ–∏–≥—Ä–∞–ª –ø–∞—Ä—Ç–∏—é. –í–æ–π–Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.",o.Default,100)],draw:[r("–†–∞–≤–Ω–æ–≤–µ—Å–∏–µ. –ü–æ–∫–∞.",o.Default,100),r("–°–µ–≥–æ–¥–Ω—è –Ω–∏–∫—Ç–æ –Ω–µ —É–º–µ—Ä. –ó–∞–≤—Ç—Ä–∞ ‚Äî –ø–æ—Å–º–æ—Ç—Ä–∏–º.",o.Default,100),r("–ù–∏—á—å—è ‚Äî —ç—Ç–æ –≤–µ–∂–ª–∏–≤–æ—Å—Ç—å –ø–µ—Ä–µ–¥ —Ä–µ–∑–Ω—ë–π.",o.Sarcasm,100)],defense:[r("–¢—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥—É–º–∞–µ—à—å, —á—Ç–æ –º–æ–∂–µ—à—å —Ç—Ä–æ–Ω—É—Ç—å –õ–∞–Ω–Ω–∏—Å—Ç–µ—Ä–∞?",o.Sarcasm,100),r("–ú–æ—è –æ–±–æ—Ä–æ–Ω–∞ ‚Äî —ç—Ç–æ —Å—Ç—Ä–∞—Ö, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –∏—Å–ø—ã—Ç—ã–≤–∞–µ—à—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.",o.Default,100),r("–ö–∞–∂–¥—ã–π, –∫—Ç–æ –ø—ã—Ç–∞–ª—Å—è –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—è, —É–∂–µ –º—ë—Ä—Ç–≤.",o.Default,100),r("–¢—ã –ø—Ä–∏—à—ë–ª —Å –º–µ—á–æ–º. –Ø –ø—Ä–∏—à—ë–ª —Å –∏–º–µ–Ω–µ–º.",o.Sarcasm,100),r("–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–º—É, –∫—Ç–æ –º–æ–∂–µ—Ç –µ–≥–æ —É–¥–µ—Ä–∂–∞—Ç—å. –Ø –º–æ–≥—É.",o.Default,100),r("–¢—ã –Ω–µ –ø—Ä–æ–π–¥—ë—à—å.",o.Default,100)],center:[r("–¢—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥—É–º–∞–µ—à—å, —á—Ç–æ –º–æ–∂–µ—à—å —Ç—Ä–æ–Ω—É—Ç—å –õ–∞–Ω–Ω–∏—Å—Ç–µ—Ä–∞?",o.Sarcasm,100),r("–¶–µ–Ω—Ç—Ä –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–º—É, –∫—Ç–æ –≥–æ—Ç–æ–≤ –∑–∞–ø–ª–∞—Ç–∏—Ç—å –∑–∞ –Ω–µ–≥–æ –∫—Ä–æ–≤—å—é.",o.Default,100),r("–ö—Ç–æ –≤–ª–∞–¥–µ–µ—Ç —Ü–µ–Ω—Ç—Ä–æ–º ‚Äî –≤–ª–∞–¥–µ–µ—Ç –±—É–¥—É—â–∏–º.",o.Default,100),r("–¶–µ–Ω—Ç—Ä –º–æ–π. –ö–∞–∫ –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ.",o.Default,100)],random:[r("–û–±—ä—è—Å–Ω—è—Ç—å —á–µ–ª–æ–≤–µ–∫—É, –ø–æ—á–µ–º—É –æ–Ω —É–º—Ä—ë—Ç, ‚Äî –ø–æ—Ç–µ—Ä—è –≤—Ä–µ–º–µ–Ω–∏.",o.Default,100),r("–¢—ã ‚Äî –Ω–µ –∏–≥—Ä–æ–∫. –¢—ã ‚Äî —Ñ–∏–≥—É—Ä–∞.",o.Sarcasm,100),r("–Ø –Ω–µ —É–≥—Ä–æ–∂–∞—é. –Ø –∫–æ–Ω—Å—Ç–∞—Ç–∏—Ä—É—é.",o.Default,100),r("–¢–≤–æ—è –∂–∏–∑–Ω—å ‚Äî —ç—Ç–æ –¥–æ–ª–≥. –¢—ã –º–Ω–µ –∑–∞–¥–æ–ª–∂–∞–ª.",o.Default,100),r("–õ–∞–Ω–Ω–∏—Å—Ç–µ—Ä—ã –Ω–µ –ø—Ä–æ—Å—è—Ç. –õ–∞–Ω–Ω–∏—Å—Ç–µ—Ä—ã –±–µ—Ä—É—Ç.",o.Default,100)],fork:[r("–í—ã–±–∏—Ä–∞–π. –õ—é–±–æ–π –≤—ã–±–æ—Ä ‚Äî –æ—à–∏–±–∫–∞.",o.Sarcasm,100),r("–î–≤–∞ –ø—É—Ç–∏. –û–±–∞ –≤–µ–¥—É—Ç –∫ –æ–¥–Ω–æ–º—É ‚Äî –∫ —Ç–≤–æ–µ–º—É –ø–æ—Ä–∞–∂–µ–Ω–∏—é.",o.Default,100),r("–¢—ã –¥—É–º–∞–µ—à—å, —É —Ç–µ–±—è –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã? –ö–∞–∫ –≥–ª—É–ø–æ.",o.Sarcasm,100),r("–Ø —É–∂–µ –ø—Ä–æ—Å—á–∏—Ç–∞–ª –æ–±–∞ –∏—Å—Ö–æ–¥–∞. –í –æ–±–æ–∏—Ö —Ç—ã –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—à—å.",o.Default,100)],emojiPresets:{aiWin:["ü¶Å","üëë","üè∞","üí∞","‚öîÔ∏è","‚ù§Ô∏è","ü™ô","üèÜ","‚öúÔ∏è","üó°Ô∏è"],aiLoose:["üò°","üíî","üìâ","‚ö∞Ô∏è","üöΩ","ü§°","üóëÔ∏è","üò§","üî•","üèπ"]}},Et={get Hannibal(){return wt},get Heizenberg(){return Ct},get PostalDude(){return St},get TylerDurden(){return _t},get TywinLanister(){return It}};function fe(s){return s*1e3}const Dt=Object.freeze({response:{delay:{min:fe(.5),max:fe(1)}},nicknames:["PostalDude","Heizenberg","Hannibal","TylerDurden","TywinLanister"],messages:Et}),Mt={muted:!1,toggle(){this.muted=!this.muted}},At=Object.freeze({modal:{lose:{player:{byTimer:"–í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ. –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏"},ai:{byTimer:"–ö—Ç–æ –±—ã –º–æ–≥ –ø–æ–¥—É–º–∞—Ç—å, –≤—Ä–µ–º—è –º–∞—à–∏–Ω—ã –∏—Å—Ç–µ–∫–ª–æ. –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏"}},win:"–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞. –ü–æ–±–µ–¥–∏—Ç–µ–ª—å:",draw:"–ü–æ–±–µ–¥–∏–ª–∞ –¥—Ä—É–∂–±–∞!",giveUp:{onEmptyBoard:"–ü—Ä–æ–ø–∞–¥–∏ –≤—Å—ë –ø—Ä–æ–ø–∞–¥–æ–º, –¥–∞?",default:"–í—ã —Å–¥–∞–ª–∏—Å—å"}}}),l=Object.freeze({timer:{startTime:5e3},player:{cross:{char:"X"},zero:{char:"O"}},theme:{isDark:!1,toggle(){this.isDark=!this.isDark}},text:At,audio:Mt,UI:at,AI:Dt,sounds:ht}),u=Object.freeze({Cross:l.player.cross.char,Zero:l.player.zero.char}),_=Object.freeze({Empty:"",Cross:u.Cross,Zero:u.Zero});class f extends Event{#e;constructor(e,t){super(e),this.#e=e,this.detail=t}get eventName(){return this.#e}}class P extends f{constructor(e){super("board@updated",{board:e})}}class D extends f{constructor(){super("board@reset",null)}}class xe extends f{constructor(){super("cell@changed",null)}}class T extends f{constructor(){super("game@start",null)}}class G extends f{constructor(){super("game@reset",null)}}class M extends f{constructor(e,t){super("game@win",{winner:e,combo:t})}}class q extends f{constructor(){super("game@restart",null)}}class O extends f{constructor(){super("game@draw",null)}}class H extends f{constructor(e=null){super("player@surrend",{message:e})}}class ee extends f{constructor(){super("game@end",null)}}class F extends f{constructor(e){super("player@moved",{index:e})}}class te extends f{constructor(e){super("player@changed",{activePlayerMark:e})}}class W extends f{constructor(){super("ai@moved",null)}}class B extends f{constructor(e,t,i="toast",a){super("ai@speak",{nickname:e,speach:t,className:i,chance:a})}}class xt{#e;#t;#s;#i;#r;constructor({gameManager:e,dispatcher:t,board:i,view:a,store:n}){this.#i=t,this.#t=e,this.#e=i,this.#s=a,this.#r=n}boot(){this.#o()}handleCellClick(e){if(!this.#t.isAiMove){if(e<0||e>8)throw new Error(`Index must be between 0 and 9. ${e} given`);g(this,F,e),this.#i.dispatch(new F(e))}}#o(){this.#i.subscribe(F,this.cellClickHandler.bind(this)),this.#i.subscribe(P,this.boardUpdatedHandler.bind(this)),this.#i.subscribe(D,this.boardResetHandler.bind(this)),this.#i.subscribe(T,this.onGameStartHandler.bind(this))}onGameStartHandler(){if(this.#r&&this.#a(),this.#t.checkComboMatches()){const t=this.#r.state,i={[u.Cross]:t.score.cross,[u.Zero]:t.score.zero};g(this,D),this.#i.dispatch(new D),this.#t.score.set(i)}}cellClickHandler(e){if(this.#t.isAiMove)return;if(!this.#t.makeMove(e.detail.index).ok){j.error(`${this.#t.constructor.name}.${this.#t.makeMove.name} –≤–µ—Ä–Ω—É–ª false. Payload: `,e.detail);return}this.#a()}#a(){const e=this.#e.serialize();g(this,P,e),this.#i.dispatch(new P(e))}boardUpdatedHandler(e){I(this,P,this.boardUpdatedHandler,e.detail),this.#s.update({board:e.detail.board.cells})}boardResetHandler(){I(this,D,this.boardResetHandler),this.#t.reset(),this.#a()}}class k extends Error{constructor(e){super(e),this.name=this.constructor.name}}class Tt extends k{constructor(){super("–ú–µ—Ç–æ–¥ create –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–µ.")}}class kt extends k{constructor(e){super(`FactoryRegistry –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ ${e}`)}}class se extends k{constructor(e){super(`${e} —ç—Ç–æ –Ω–µ –ø–æ—Ç–æ–º–æ–∫ –∫–ª–∞—Å—Å–∞ Factory`)}}class pe extends k{constructor(e){super(`–§–∞–±—Ä–∏–∫–∞ ${e} —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ FactoryRegistry`)}}class A{create(){throw new Tt}}class x extends A{#e;#t;#s;constructor(e,t,i){super(),this.#e=e,this.#t=t,this.#s=i}get gameManager(){return this.#e}get dispatcher(){return this.#t}get store(){return this.#s}}class N extends A{#e;constructor(e){super(),this.#e=e}get domElement(){return this.#e}}class Te extends x{create(e,t){return new xt({gameManager:this.gameManager,dispatcher:this.dispatcher,board:e,view:t,store:this.store})}}class Nt{#e;#t;#s;#i;constructor({view:e,dispatcher:t,gameManager:i,store:a}){this.#e=e,this.#t=t,this.#s=i,this.#i=a}boot(){this.#r()}#r(){this.#t.subscribe(M,this.onGameWinHandler.bind(this)),this.#t.subscribe(xe,this.onCellChanged.bind(this))}onGameWinHandler(){const e=l.AI.messages[this.#i.state.aiName].emojiPresets.aiWin,t=l.AI.messages[this.#i.state.aiName].emojiPresets.aiLoose,i={emojis:this.#s.isAiMove?e:t},a=this.#s.isAiMove?l.sounds.loose:l.sounds.win;I(this,M,this.onGameWinHandler),this.#e.showWinScreen({confetti:i,audioUrl:a})}onCellChanged(){this.#e.playSound(l.sounds.cellClick)}}class ke extends x{create(e){return new Nt({dispatcher:this.dispatcher,gameManager:this.gameManager,view:e,store:this.store})}}class V extends f{constructor(){super("timer@player_timeout",null)}}class $ extends f{constructor(){super("timer@ai_timeout",null)}}class Lt{#e;#t;#s;constructor({gameManager:e,view:t,dispatcher:i}){this.#e=t,this.#s=i,this.#t=e}boot(){this.#i()}#i(){this.#s.subscribe(M,this.onWinHandler.bind(this)),this.#s.subscribe(O,this.onDrawHandler.bind(this)),this.#s.subscribe(G,this.onResetHandler.bind(this)),this.#s.subscribe(H,this.onSurrendHandler.bind(this)),this.#s.subscribe(V,this.onPlayerTimeoutHandler.bind(this)),this.#s.subscribe($,this.onAITimeoutHandler.bind(this))}onPlayerTimeoutHandler(){I(this,V,this.onPlayerTimeoutHandler),this.#r(l.text.modal.lose.player.byTimer,this.#t.board.serialize().cells,null)}onAITimeoutHandler(){I(this,$,this.onAITimeoutHandler),this.#r(l.text.modal.lose.ai.byTimer,this.#t.board.serialize().cells,null)}handleModalClose(){g(this,D),this.#s.dispatch(new D),g(this,ee),this.#s.dispatch(new ee)}#r(e,t,i){this.#e.update({message:e,board:t,winCombo:i})}onWinHandler(e){I(this,M,this.onWinHandler,e.details),this.#r(`${l.text.modal.win} ${e.detail.winner}`,this.#t.board.serialize().cells,e.detail.combo)}onSurrendHandler(e){I(this,H,this.onSurrendHandler,e.details),this.#r(e.detail.message,this.#t.board.serialize().cells)}onDrawHandler(){I(this,O,this.onDrawHandler),this.#r(l.text.modal.draw,this.#t.board.serialize().cells,null)}onResetHandler(){I(this,D,this.onResetHandler),this.#t.reset(),g(this,D),this.#s.dispatch(new D)}}class Ne extends x{create(e){return new Lt({gameManager:this.gameManager,dispatcher:this.dispatcher,view:e,store:this.store})}}class C extends f{constructor(e){const t={cross:e.cross,zero:e.zero};super("score@changed",t)}}class Pt{#e;#t;#s;#i;constructor({gameManager:e,view:t,dispatcher:i,store:a}){this.#t=e,this.#s=i,this.#e=t,this.#i=a}boot(){this.#r()}#r(){this.#s.subscribe(C,this.updateScoreValues.bind(this)),this.#s.subscribe(F,this.updateWhoseMove.bind(this)),this.#s.subscribe(W,this.updateWhoseMove.bind(this)),this.#s.subscribe(D,this.updateWhoseMove.bind(this)),this.#s.subscribe(H,this.updateScoreValues.bind(this)),this.#s.subscribe(T,this.onGameStartHandler.bind(this))}onGameStartHandler(){this.#i.state.score!==null&&this.#i.state.score!==void 0&&this.#i.state.player!==void 0&&this.#e.update({activePlayerMark:this.#i.state.player.activePlayerMark,cross:this.#i.state.score.cross,zero:this.#i.state.score.zero})}updateWhoseMove(e){I(this,e.constructor,this.updateWhoseMove,e.detail),this.#e.update({activePlayerMark:this.#t.whoseMove})}updateScoreValues(e){I(this,C,this.updateScoreValues,e.detail),this.#e.update({activePlayerMark:this.#t.whoseMove,cross:e.detail.cross,zero:e.detail.zero})}}class Le extends x{create(e){return new Pt({gameManager:this.gameManager,dispatcher:this.dispatcher,view:e,store:this.store})}}class Ft{#e;#t=null;#s;constructor({boardDOM:e,onCellClick:t}){this.#s=e,this.#e=this.#s.cells,this.#t=t,this.#e.forEach((i,a)=>{i.dataset.index=a}),this.#i()}setOnCellClick(e){this.#t=e}update({board:e}){this.#e.forEach((t,i)=>{t.innerText=e[i],t.disabled=e[i]!==_.Empty})}#i(){this.#s.root.addEventListener("click",t=>{const i=t.target.closest(".cell");if(!i)return;const a=Number(i.dataset.index);g(this,{name:"CellClick"},{index:a}),this.#t?.(a)})}}class Pe extends N{create(e=null){return new Ft({boardDOM:this.domElement,onCellClick:e})}}function ne(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(s,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,zt(i.key),i)}}function ce(s,e,t){return e&&Ot(s.prototype,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function Rt(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var i=t.call(s,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function zt(s){var e=Rt(s,"string");return typeof e=="symbol"?e:e+""}function ge(s){return+s.replace(/px/,"")}function jt(s){var e=window.devicePixelRatio,t=getComputedStyle(s),i=ge(t.getPropertyValue("width")),a=ge(t.getPropertyValue("height"));s.setAttribute("width",(i*e).toString()),s.setAttribute("height",(a*e).toString())}function E(s,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=Math.random()*(e-s)+s;return Math.floor(i*Math.pow(10,t))/Math.pow(10,t)}function be(s){return s[E(0,s.length)]}var Ht=.00125,Bt=5e-4,Ut=9e-4,Gt=1e-5,Wt=6,Vt=80,$t=.9,qt=1.7,Zt=.2,Xt=.6,Jt=.03,Yt=.07,Fe=15,Oe=82,ye=150,Kt=100,Qt=250,es=40,ts=["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"];function ve(s){var e=1920;return Math.log(s)/Math.log(e)}var K=(function(){function s(e){ne(this,s);var t=e.initialPosition,i=e.confettiRadius,a=e.confettiColors,n=e.emojis,c=e.emojiSize,h=e.canvasWidth,d=e.initialFlightAngle,m=e.rotationAngle,p=e.shouldHideConfettiInShiftedPosition,b=p===void 0?!1:p,v=E($t,qt,3),L=v*ve(h);this.confettiSpeed={x:L,y:L},this.finalConfettiSpeedX=E(Zt,Xt,3),this.rotationSpeed=n.length?.01:E(Jt,Yt,3)*ve(h),this.dragForceCoefficient=E(Bt,Ut,6),this.radius={x:i,y:i},this.initialRadius=i,this.rotationAngle=m,this.emojiSize=c,this.emojiRotationAngle=E(0,2*Math.PI),this.radiusYUpdateDirection="down",this.cos=Math.cos(d),this.sin=Math.sin(d);var R=E(-150,0);this.positionOffset={x:R*this.sin,y:R*this.cos},this.distanceTravelled={x:0,y:0};var z={x:t.x+this.positionOffset.x,y:t.y-this.positionOffset.y};this.currentPosition=Object.assign({},z),this.initialPosition=Object.assign({},z),this.color=n.length?null:be(a),this.emoji=n.length?be(n):null,this.createdAt=new Date().getTime(),this.isVisible=!b}return ce(s,[{key:"draw",value:function(t){var i=this.currentPosition,a=this.radius,n=this.color,c=this.emoji,h=this.rotationAngle,d=this.emojiRotationAngle,m=this.emojiSize,p=this.isVisible;if(p){var b=window.devicePixelRatio;n?(t.fillStyle=n,t.beginPath(),t.ellipse(i.x*b,i.y*b,a.x*b,a.y*b,h,0,2*Math.PI),t.fill()):c&&(t.font="".concat(m,"px serif"),t.save(),t.translate(b*i.x,b*i.y),t.rotate(d),t.textAlign="center",t.fillText(c,0,0),t.restore())}}},{key:"updatePosition",value:function(t,i){var a=this.confettiSpeed,n=this.dragForceCoefficient,c=this.finalConfettiSpeedX,h=this.radiusYUpdateDirection,d=this.rotationSpeed,m=this.createdAt;a.x>c&&(this.confettiSpeed.x-=n*t);var p=this.currentPosition.y,b=i-m;this.currentPosition.y=this.initialPosition.y-a.y*this.cos*b+Ht*Math.pow(b,2)/2;var v={x:a.x*this.sin*t,y:this.currentPosition.y-p};if(this.currentPosition.x+=v.x,this.distanceTravelled.x+=Math.abs(v.x),this.distanceTravelled.y+=Math.abs(v.y),this.distanceTravelled.x>=Math.abs(this.positionOffset.x)&&this.distanceTravelled.y>=Math.abs(this.positionOffset.y)&&(this.isVisible=!0),this.rotationSpeed-=this.emoji?1e-4:Gt*t,this.rotationSpeed<0&&(this.rotationSpeed=0),this.emoji){this.emojiRotationAngle+=this.rotationSpeed*t%(2*Math.PI);return}h==="down"?(this.radius.y-=t*d,this.radius.y<=0&&(this.radius.y=0,this.radiusYUpdateDirection="up")):(this.radius.y+=t*d,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYUpdateDirection="down"))}},{key:"getIsVisibleOnCanvas",value:function(t){return this.currentPosition.y<t+Kt}}])})();function ss(){var s=document.createElement("canvas");return s.style.position="fixed",s.style.width="100%",s.style.height="100%",s.style.top="0",s.style.left="0",s.style.zIndex="1000",s.style.pointerEvents="none",document.body.appendChild(s),s}function we(s){var e=s.confettiRadius,t=e===void 0?Wt:e,i=s.confettiNumber,a=i===void 0?s.confettiesNumber||(s.emojis?es:Qt):i,n=s.confettiColors,c=n===void 0?ts:n,h=s.emojis,d=h===void 0?s.emojies||[]:h,m=s.emojiSize,p=m===void 0?Vt:m,b=s.confettiDispatchPosition,v=b===void 0?null:b;return s.emojies&&console.error("emojies argument is deprecated, please use emojis instead"),s.confettiesNumber&&console.error("confettiesNumber argument is deprecated, please use confettiNumber instead"),{confettiRadius:t,confettiNumber:a,confettiColors:c,emojis:d,emojiSize:p,confettiDispatchPosition:v}}function le(s){return s*Math.PI/180}function is(){return le(E(Oe,Fe))}function rs(){return le(E(-Fe,-Oe))}function os(){return le(E(-ye,ye))}function Ce(){return E(0,.2,3)}function as(){return E(-.2,0,3)}var Se=(function(){function s(e){var t=this;ne(this,s),this.canvasContext=e,this.shapes=[],this.promise=new Promise(function(i){return t.resolvePromise=i})}return ce(s,[{key:"getBatchCompletePromise",value:function(){return this.promise}},{key:"addShapes",value:function(){var t;(t=this.shapes).push.apply(t,arguments)}},{key:"complete",value:function(){var t;return this.shapes.length?!1:((t=this.resolvePromise)===null||t===void 0||t.call(this),!0)}},{key:"processShapes",value:function(t,i,a){var n=this,c=t.timeDelta,h=t.currentTime;this.shapes=this.shapes.filter(function(d){return d.updatePosition(c,h),d.draw(n.canvasContext),a?d.getIsVisibleOnCanvas(i):!0})}}])})(),ns=(function(){function s(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ne(this,s),this.activeConfettiBatches=[],this.canvas=e.canvas||ss(),this.canvasContext=this.canvas.getContext("2d"),this.requestAnimationFrameRequested=!1,this.lastUpdated=new Date().getTime(),this.iterationIndex=0,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}return ce(s,[{key:"loop",value:function(){this.requestAnimationFrameRequested=!1,jt(this.canvas);var t=new Date().getTime(),i=t-this.lastUpdated,a=this.canvas.offsetHeight,n=this.iterationIndex%10===0;this.activeConfettiBatches=this.activeConfettiBatches.filter(function(c){return c.processShapes({timeDelta:i,currentTime:t},a,n),n?!c.complete():!0}),this.iterationIndex++,this.queueAnimationFrameIfNeeded(t)}},{key:"queueAnimationFrameIfNeeded",value:function(t){this.requestAnimationFrameRequested||this.activeConfettiBatches.length<1||(this.requestAnimationFrameRequested=!0,this.lastUpdated=t||new Date().getTime(),requestAnimationFrame(this.loop))}},{key:"addConfettiAtPosition",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=we(t),a=i.confettiRadius,n=i.confettiNumber,c=i.confettiColors,h=i.emojis,d=i.emojiSize,m=i.confettiDispatchPosition,p=this.canvas.getBoundingClientRect(),b=p.width,v=new Se(this.canvasContext),L=0;L<n;L++){var R=new K({initialPosition:m,confettiRadius:a,confettiColors:c,confettiNumber:n,emojis:h,emojiSize:d,canvasWidth:b,rotationAngle:Ce(),initialFlightAngle:os(),shouldHideConfettiInShiftedPosition:!0});v.addShapes(R)}return this.activeConfettiBatches.push(v),this.queueAnimationFrameIfNeeded(),v.getBatchCompletePromise()}},{key:"addConfetti",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=we(t),a=i.confettiRadius,n=i.confettiNumber,c=i.confettiColors,h=i.emojis,d=i.emojiSize,m=this.canvas.getBoundingClientRect(),p=m.width,b=m.height,v=b*5/7,L={x:0,y:v},R={x:p,y:v},z=new Se(this.canvasContext),he=0;he<n/2;he++){var Ke=new K({initialPosition:L,confettiRadius:a,confettiColors:c,confettiNumber:n,emojis:h,emojiSize:d,canvasWidth:p,rotationAngle:Ce(),initialFlightAngle:is()}),Qe=new K({initialPosition:R,confettiRadius:a,confettiColors:c,confettiNumber:n,emojis:h,emojiSize:d,canvasWidth:p,rotationAngle:as(),initialFlightAngle:rs()});z.addShapes(Qe,Ke)}return this.activeConfettiBatches.push(z),this.queueAnimationFrameIfNeeded(),z.getBatchCompletePromise()}},{key:"clearCanvas",value:function(){this.activeConfettiBatches=[]}},{key:"destroyCanvas",value:function(){this.canvas.remove()}}])})();class cs{#e;#t;constructor({audio:e}){this.#e=new Audio(e),this.#t=new ns}showWinScreen({confetti:e,audioUrl:t}){this.#t.addConfetti(e),this.playSound(t)}showMessageInChat(e,t){const i=Ae("SayMyName",e,{msg:t});l.UI.chat.chat.appendChild(i)}playSound(e){this.#e=new Audio(e),l.audio.muted&&(this.#e.muted=!0),this.#e.play()}}class Re extends N{create(e){return new cs({audio:e})}}class ls{#e;#t;#s;constructor({elements:e,onClose:t}){this.#s=e,this.#e=t,this.#t=this.#s.board.querySelectorAll(".cell"),this.#i()}update({message:e,board:t,winCombo:i}){this.#s.title.innerText=e,this.#t.forEach((a,n)=>{let c="cell";i?.includes(n)&&(c+=" cell-win"),a.className=c,a.innerText=t[n]}),this.#s.body.classList.remove("hidden")}#i(){const e=()=>{g(this,e),this.#s.body.classList.add("hidden"),this.#e?.()};this.#s.button.onclick=e}setOnClose(e){this.#e=e}}class ze extends N{create(e=null){return new ls({elements:this.domElement,onClose:e})}}class hs{#e;#t;#s;#i;constructor({crossEl:e,zeroEl:t}){this.#e=e,this.#t=t,this.#s=l.UI.score.crossLabel,this.#i=l.UI.score.zeroLabel}update({activePlayerMark:e=u.Cross,cross:t=void 0,zero:i=void 0}){this.#r(e),t!==void 0&&i!==void 0&&this.#o(t,i)}#r(e){const t=e===u.Cross,i=t?this.#e:this.#t,a=t?this.#t:this.#e;i.classList.add("active-score-item"),i.classList.remove("inactive-score-item"),a.classList.add("inactive-score-item"),a.classList.remove("active-score-item")}#o(e,t){this.#s.innerText=e,this.#i.innerText=t}}class je extends N{create(){const{crossEl:e,zeroEl:t}=this.domElement;return new hs({crossEl:e,zeroEl:t})}}class ds{#e;#t;constructor(e,t=Array(9).fill(_.Empty)){this.#t=e,this.#e=t}get cells(){return[...this.#e]}get freeCells(){return[...this.#e].map((e,t)=>e===_.Empty?t:-1).filter(e=>e!==-1)}get busyCells(){return[...this.#e].map((e,t)=>e!==_.Empty?t:-1).filter(e=>e!==-1)}movesOf(e){return this.#e.map((t,i)=>t===e?i:-1).filter(t=>t!==-1)}setCell(e,t){this.#e[t]=e,this.#t.dispatch(new xe)}cellIs(e,t){return this.#e[t]===e}reset(){this.#e.fill(_.Empty)}serialize(){return{cells:this.#e}}}class ie extends A{create(e,t){return new ds(e,t)}}class us extends k{constructor(){super("–í –ø–æ—Ç–æ–º–∫–µ Pipe –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ execute")}}class U{constructor(e){this._data=e}execute(){throw new us}get data(){return this._data}}class ms{#e;#t={};constructor(e){this.#e=e,this.#e.forEach(t=>{if(!(t.prototype instanceof U))throw new Error(`${t} –Ω–µ –ø–æ—Ç–æ–º–æ–∫ Pipe`)})}run(e){let t={start:e,result:null,meta:this.#t};for(const i of this.#e){const a=new i(t);if(a.execute(),t=a.data,t.result)break}return t.result}passThrough(e){return this.#t={...this.#t,...e},this}}class Z{#e;#t;#s;#i;#r=u.Cross;#o=!1;#a=null;static combos=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];constructor(e,t,i,a){this.#e=e,this.#s=i,this.#t=t,this.#e.subscribe(T,this.onGameStartHandler.bind(this)),this.#i=a}onGameStartHandler(){this.#i.state.player!==null&&this.#i.state.player!==void 0&&(this.#r=this.#i.state.player.activePlayerMark)}get winnerCombo(){return this.#a}get whoseMove(){return this.#r}get board(){return this.#t}get score(){return this.#s}get isGameEnded(){return this.#o}get isAiMove(){return this.whoseMove===u.Zero}surrend(){this.#s.loose(u.Cross)}makeMove(e){if(e<0||e>8)return me("INDEX_OUT_OF_RANGE","–ò–Ω–¥–µ–∫—Å –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞");if(!this.#t.cellIs(_.Empty,e))return me("CELL_OCCUPIED","–ö–ª–µ—Ç–∫–∞ —É–∂–µ –∑–∞–Ω—è—Ç–∞");const t=this.#r;return this.#t.setCell(t,e),this.checkWinner(),this.#n(),bt(t)}checkComboMatches(){return Z.combos.find(([e,t,i])=>{const a=this.#t.cells[e];return a!==_.Empty&&a===this.#t.cells[t]&&a===this.#t.cells[i]})}checkWinner(){const e=this.checkComboMatches();if(e){const t=this.#t.cells[e[0]];return this.#a=e[0],this.#s.win(t),g(this,M,{winner:t,winnerCombo:e}),this.#e.dispatch(new M(t,e)),this.#o=!0,!0}return this.#t.cells.every(t=>t!==_.Empty)?(g(this,O),this.#e.dispatch(new O),this.#o=!0,!0):!1}increaseScore(e){this.#s.win(e)}#n(){this.#r=this.#r===u.Cross?u.Zero:u.Cross,g(this,te,this.#r),this.#e.dispatch(new te(this.#r))}reset(){this.#t.reset(),this.#o=!1,this.#r=u.Cross}}class fs extends U{execute(){let e=null;for(const t of this._data.meta._combos){if(t.filter(n=>this._data.meta._crossIndexes.includes(n)).length!==2)continue;const a=t.find(n=>this._data.meta._freeIndexes.includes(n));if(a!==void 0){e={index:a,message:S(l.AI.messages[this._data.meta._aiName].defense)};break}}e&&(this._data.result=e)}}class ps extends U{execute(){let e;this._data.meta._freeIndexes.includes(4)?e={index:4,message:S(l.AI.messages[this._data.meta._aiName].center)}:e={index:S(this._data.meta._freeIndexes),message:S(l.AI.messages[this._data.meta._aiName].random)},this._data.result=e}}class gs extends U{#e(e){return{1:7,7:1,3:5,5:3}[e]??void 0}execute(){const e=this._data.meta._freeIndexes.some(n=>[1,3,5,7].includes(n));let t=null;const i=this._data.meta._zeroIndexes,a=[0,2,6,8].filter(n=>this._data.meta._freeIndexes.includes(n));if(i.includes(4)&&a.length)t={index:S(a),message:S(l.AI.messages[this._data.meta._aiName].fork)};else if(i.some(n=>[1,3,5,7].includes(n))&&e){const c=i.filter(h=>[1,3,5,7].includes(h)).filter(h=>this.#e(h)!==void 0&&i.includes(this.#e(h)));if(c.length){const h=S(c);t={index:this.#e(h),message:S(l.AI.messages[this._data.meta._aiName].fork)}}}t!==null&&(this._data.result=t)}}class bs extends U{execute(){let e=null;for(const t of this._data.meta._combos){const[i,a,n]=t,c=[this._data.start[i],this._data.start[a],this._data.start[n]];if(c.includes(_.Cross))continue;const h=c.map((d,m)=>d===_.Empty?m:-1).filter(d=>d!==-1);if(h.length===1){e={index:t[h[0]],message:S(l.AI.messages[this._data.meta._aiName].win)};break}}e&&(this._data.result=e)}}class ys{#e;#t;#s;constructor(e,t,i,a){this.#e=e,this.#t=t,this.#s=a}boot(){this.#i()}#i(){this.#t.subscribe(F,this.handleMove.bind(this)),this.#t.subscribe(M,this.gameWinHandler.bind(this)),this.#t.subscribe(O,this.gameDrawHandler.bind(this)),this.#t.subscribe(T,this.onGameStartHandler.bind(this)),this.#t.subscribe(G,this.setNewName.bind(this)),this.#t.subscribe(ee,this.setNewName.bind(this))}onGameStartHandler(){this.#e.isAiMove&&(this.#t.dispatch(new F(null)),this.handleMove());const e=this.#s.state;(e.aiName===void 0||e.aiName===null)&&this.setNewName()}setNewName(){const e=this.#s.state,t=S(l.AI.nicknames);e.aiName=t,this.#s.set(e)}handleMove(){if(!this.#e.isAiMove||this.#e.isGameEnded)return;const t=new ms([bs,fs,gs,ps]).passThrough({_mark:u.Zero,_aiName:this.#s.state.aiName,_combos:Z.combos,_isEmpty:this.#e.board.cells.every(a=>a===_.Empty),_freeIndexes:this.#e.board.freeCells,_busyIndexes:this.#e.board.busyCells,_crossIndexes:this.#e.board.movesOf(u.Cross),_zeroIndexes:this.#e.board.movesOf(u.Zero)}).run(this.#e.board.cells),i=yt(l.AI.response.delay.min,l.AI.response.delay.max);setTimeout(()=>{this.#e.makeMove(t.index),this.#e.isAiMove||this.#r(t.message),g(this,W,t.index),this.#t.dispatch(new W),g(this,P,this.#e.board.serialize()),this.#t.dispatch(new P(this.#e.board.serialize()))},i)}gameWinHandler(e){if(e.detail.winner!==u)return;const t=S(l.AI.messages[this.#s.state.aiName].loose);t.chance=100,this.#r(t)}gameDrawHandler(){const e=S(l.AI.messages[this.#s.state.aiName].draw);e.chance=100,this.#r(e)}#r(e){if(!vt(e.chance))return;const t=this.#s.state.aiName,{message:i,className:a,chance:n}=e;g(this,B,{nickname:t,message:i,className:a,chance:n}),this.#t.dispatch(new B(t,i,a,n))}}class He extends x{create(e){return new ys(this.gameManager,this.dispatcher,e,this.store)}}class vs{#e;#t;#s;#i;constructor(e,t,i,a){this.#s=t,this.#e=e,this.#t=i,this.#i=a}boot(){this.#r()}#r(){this.#s.subscribe(T,this.fillChat.bind(this)),this.#s.subscribe(M,this.onGameWinHandler.bind(this)),this.#s.subscribe(B,this.appendMessage.bind(this)),this.#s.subscribe(q,this.resetChat.bind(this))}resetChat(){this.#t.renderChat([])}onGameWinHandler(){if(!this.#e.isAiMove){const e=S(l.AI.messages[this.#i.state.aiName].loose);this.#s.dispatch(new B(this.#i.state.aiName,e.message,e.className,e.chance))}}fillChat(){this.#i.state.chat!==null&&this.#i.state.chat!==void 0&&this.#t.renderChat(this.#i.state.chat)}appendMessage(e){const t={};e.detail.speach&&(t.message=e.detail.speach),e.detail.message&&(t.message=e.detail.message),t.className=e.detail.className,t.chance=e.detail.chance,t.nickname=e.detail.nickname,this.#t.appendMessage(t)}}class Be extends x{create(e){return new vs(this.gameManager,this.dispatcher,e,this.store)}}class Ue extends f{constructor(e){super("soundstate@changed",{muted:e})}}class Ge extends f{constructor(e){super("theme@changed",{theme:e})}}class ws{#e;#t;#s;#i;constructor(e,t,i,a){this.#s=e,this.#e=t,this.#t=i,this.#i=a}boot(){this.#r()}#r(){this.#e.subscribe(T,this.onGameStartHandler.bind(this))}onGameStartHandler(){let e;const t=this.#i.state.theme;t!=null?e=t.scheme:e=l.theme.isDark?"dark":"light";const i=e==="dark"?"dark":"light",a=e==="dark"?"light":"dark";if(this.#t.setAppTheme({documentElement:l.UI.mount,toAdd:i,toRemove:a,isDark:i!=="dark"}),this.#i.state.sound.muted){const n=this.#i.state.sound.muted;this.#t.changeVolumeIconFrom({isMuted:n}),l.audio.muted=n}}onRestartGameHandler(){I(this,G),this.#e.dispatch(new G),this.#e.dispatch(new q)}onToggleVolumeHandler(){l.audio.toggle(),this.#e.dispatch(new Ue(l.audio.muted)),this.#t.changeVolumeIconFrom({isMuted:l.audio.muted})}onSwitchColorThemeHandler(){const e=l.UI.mount.classList.contains("dark")?"light":"dark",t=e==="dark"?"light":"dark";this.#e.dispatch(new Ge(e)),this.#t.setAppTheme({documentElement:l.UI.mount,toAdd:e,toRemove:t,isDark:e!=="dark"})}onGiveUpHandler(){this.#s.board.serialize().cells.every(e=>e===_.Empty)?this.#e.dispatch(new H(l.text.modal.giveUp.onEmptyBoard)):this.#e.dispatch(new H(l.text.modal.giveUp.default)),this.#s.surrend(u.Cross)}}class We extends x{create(e,t,i){return new ws(e,t,i,this.store)}}class Cs{#e;#t;#s;#i=5e3;#r=5e3;#o=!1;constructor(e,t,i){this.#e=e,this.#t=t,this.#s=i}boot(){this.#a()}#a(){this.#t.subscribe(F,this.onPlayerMoveHandler.bind(this)),this.#t.subscribe(W,this.onPlayerMoveHandler.bind(this)),this.#t.subscribe(M,this.stopAll.bind(this)),this.#t.subscribe(O,this.stopAll.bind(this)),this.#t.subscribe(D,this.reset.bind(this)),this.#s.setOnTimerEnd(()=>{})}stopAll(){this.#o=!0,this.#s.clear(),this.#i=5e3,this.#r=5e3}onPlayerMoveHandler(){if(this.#o)return;this.#s.clear();const e=this.#e.whoseMove===u.Cross,t=e?this.#i:this.#r,i=e?"player":"ai";this.#s.start(i,t,a=>{e?this.#i=a:this.#r=a},()=>{const a=e?new V:new $;this.#t.dispatch(a)})}reset(){this.#o=!1,this.#i=5e3,this.#r=5e3,this.#s.clear()}}class Ve extends x{create(e){return new Cs(this.gameManager,this.dispatcher,e,this.store)}}class _e extends k{constructor(e){super("–û–∂–∏–¥–∞–ª–æ—Å—å —Å–æ–±—ã—Ç–∏–µ —Ç–∏–ø–∞ GameEvent. –ü–æ–ª—É—á–µ–Ω–æ: "+e)}}class Ss extends k{constructor(e){super(`–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏—è ${e}`)}}class _s{#e=new Map;dispatch(e){if(typeof e!="object"||!(e instanceof f))throw new _e(e);const t=e.constructor;if(!this.#e.has(t))throw new Ss(t);const i=this.#e.get(t);for(const a of i)a(e)}subscribe(e,t){if(!(e.prototype instanceof f))throw new _e(e);this.#e.has(e)||this.#e.set(e,new Set),this.#e.get(e).add(t)}unsubscribe(e){this.#e.delete(e)}}class re extends A{create(){return new _s}}class oe extends A{create(e,t,i,a){return new Z(e,t,i,a)}}class Is extends k{constructor(e){super(`${e} is not player`)}}class Es{#e={[u.Cross]:0,[u.Zero]:0};#t;#s;constructor(e,t){this.#t=e,this.#s=t,this.#t.subscribe(T,this.onGameStartHandler.bind(this)),this.#t.subscribe(q,this.reset.bind(this)),this.#t.subscribe(V,this.onPlayerLoose.bind(this)),this.#t.subscribe($,this.onPlayerWin.bind(this))}onPlayerLoose(){this.loose(u.Cross)}onPlayerWin(){this.win(u.Cross)}onGameStartHandler(){if(this.#s.state.score!==null&&this.#s.state.score!==void 0){this.#e[u.Cross]=this.#s.state.score.cross,this.#e[u.Zero]=this.#s.state.score.zero;const e={cross:this.cross,zero:this.zero};g(this,C,e),this.#t.dispatch(new C(e))}}set(e){this.#e=e;const t={cross:this.cross,zero:this.zero};g(this,C,t),this.#t.dispatch(new C(t))}win(e){if(!(e===u.Cross||e===u.Zero))throw new Is(e);this.#e[e]+=1;const i={cross:this.cross,zero:this.zero};g(this,C,i),this.#t.dispatch(new C(i))}loose(e){if(this.#e[e]>0){this.#e[e]-=1;const t={cross:this.cross,zero:this.zero};g(this,C,t),this.#t.dispatch(new C(t))}}reset(){this.#e={[u.Cross]:0,[u.Zero]:0};const e={cross:this.cross,zero:this.zero};g(this,C,e),this.#t.dispatch(new C(e))}get cross(){return this.#e[u.Cross]}get zero(){return this.#e[u.Zero]}serialize(){const e={cross:this.#e[u.Cross],zero:this.#e[u.Zero]};return JSON.parse(JSON.stringify(e))}}class ae extends A{create(e,t){return new Es(e,t)}}class Ds{#e;constructor(e){this.#e=e}renderChat(e){e.length===0&&(this.#e.innerHTML=""),e.forEach(t=>{this.#t(t)})}appendMessage(e){this.#t(e)}#t(e){const t=Ae(e.nickname,e.message,{msg:e.className});this.#e.appendChild(t)}}class $e extends N{create(e){return new Ds(e)}}class Ms{#e;#t={restartGameButton:null,toggleVolumeButton:null,switchColorThemeButton:null,giveUpButton:null,openMenuButton:null};constructor({controlsDOM:e}){this.#e=e,this.#s()}changeVolumeIconFrom({isMuted:e}){const t=this.#e.icons.unmutedIcon,i=this.#e.icons.mutedIcon;e?(t.classList.add("hidden"),i.classList.remove("hidden")):(t.classList.remove("hidden"),i.classList.add("hidden"))}changeThemeIconFrom(e){const t=this.#e.icons.lightTheme,i=this.#e.icons.darkTheme;e?(t.classList.add("hidden"),i.classList.remove("hidden")):(t.classList.remove("hidden"),i.classList.add("hidden"))}setAppTheme({documentElement:e,toAdd:t,toRemove:i,isDark:a}){this.changeThemeIconFrom(a),e.classList.remove(i),e.classList.add(t)}setOnRestartGameButtonClick(e){this.#t.restartGameButton=e}setOnToggleVolumeButtonClick(e){this.#t.toggleVolumeButton=e}setOnSwitchColorThemeButtonClick(e){this.#t.switchColorThemeButton=e}setOnGiveUpButtonClick(e){this.#t.giveUpButton=e}setOnOpenMenuButtonClick(e){this.#t.openMenuButton=e}#s(){const e=Object.keys(this.#t);for(const t of e)this.#e[t].addEventListener("click",()=>{this.#t[t]?.()});l.UI.chat.openButton.addEventListener("click",()=>{l.UI.chat.root.classList.remove("-translate-x-full")}),l.UI.chat.closeButton.addEventListener("click",()=>{l.UI.chat.root.classList.add("-translate-x-full")})}}class qe extends N{create(e){return new Ms({controlsDOM:e})}}class As{#e=null;#t=0;setOnTimerEnd(e){this._onTimerEnd=e}clear(){this.#e!==null&&(clearInterval(this.#e),this.#e=null),this.#t=0}start(e,t,i,a){this.clear(),this.#t=Math.max(0,t),this.update(this.#t,e),this.#e=setInterval(()=>{this.#t-=20,this.#t<0&&(this.#t=0),this.update(this.#t,e),i?.(this.#t),this.#t===0&&(this.clear(),a?.(),this._onTimerEnd?.(e))},20)}update(e,t){l.UI.timer.display.innerText=(e/1e3).toFixed(2);const i=l.UI.timer.root;t==="player"?(i.classList.add("player-active"),i.classList.remove("ai-active")):t==="ai"?(i.classList.add("ai-active"),i.classList.remove("player-active")):i.classList.remove("player-active","ai-active")}}class Ze extends N{create(){return new As(this.domElement)}}class xs{#e;#t;constructor({dispatcher:e}){this.#e=e,this.#t=this.loadFromLocalStorage()||{board:Array(9).fill(_.Empty),theme:{scheme:"light"},score:{cross:0,zero:0},winner:{cross:!1,zero:!1,combo:null},sound:{muted:!1},chat:[],aiName:null},this.#s()}#s(){this.#e.subscribe(C,this.saveScore.bind(this)),this.#e.subscribe(P,this.saveBoard.bind(this)),this.#e.subscribe(Ue,this.saveSoundState.bind(this)),this.#e.subscribe(Ge,this.saveTheme.bind(this)),this.#e.subscribe(B,this.saveChat.bind(this)),this.#e.subscribe(te,this.saveActivePlayerMark.bind(this)),this.#e.subscribe(M,this.saveWinner.bind(this)),this.#e.subscribe(O,this.resetWinner.bind(this)),this.#e.subscribe(H,this.resetWinner.bind(this)),this.#e.subscribe(q,this.resetChat.bind(this))}resetChat(){this.#t.chat=[],this.#i()}resetWinner(){this.#t.winner={cross:!1,zero:!1,combo:null},this.#i()}saveActivePlayerMark(e){this.#t.player={...this.#t.player,activePlayerMark:e.detail.activePlayerMark},this.#i()}saveChat(e){this.#t.chat.push({nickname:e.detail.nickname,message:e.detail.speach,className:e.detail.className,chance:e.detail.chance}),this.#t.chat.length>20&&(this.#t.chat=this.#t.chat.slice(-20)),this.#i()}saveWinner(e){this.#t.winner={cross:e.detail.winner===u.Cross,zero:e.detail.winner===u.Zero,combo:e.detail.combo}}saveTheme(e){this.#t.theme={scheme:e.detail.theme},this.#i()}saveSoundState(e){this.#t.sound={muted:e.detail.muted},this.#i()}saveBoard(e){this.#t.board=e.detail.board,this.#i()}saveScore(e){this.#t.score={cross:e.detail.cross,zero:e.detail.zero},this.#i()}set(e){this.#t=e,this.#i()}#i(){localStorage.state=JSON.stringify(this.#t)}get state(){return this.#t}loadFromLocalStorage(){const e=localStorage.state;return e?JSON.parse(e):null}}function Ts(s){s.register(new re).register(new ae).register(new ie).register(new oe);const e=s.get(re),t=new xs({dispatcher:e}),i=s.get(ae,e,t),a=s.get(ie,e,t.state.board.cells),n=s.get(oe,e,a,i,t);return s.register(new Pe(l.UI.board)).register(new Re(l.sounds.win)).register(new qe(l.UI.gameControls)).register(new $e(l.UI.chat.chat)).register(new je({crossEl:l.UI.score.cross,zeroEl:l.UI.score.zero})).register(new Ze(l.UI.timer)).register(new ze(l.UI.modal)),s.register(new Te(n,e,t)).register(new ke(n,e,t)).register(new Le(n,e,t)).register(new Ne(n,e,t)).register(new We(n,e,t)).register(new He(n,e,t)).register(new Be(n,e,t)).register(new Ve(n,e,t)),s}class Ie{#e=new Map;constructor(...e){for(const t of e){if(!(t instanceof A)&&!(t instanceof x)&&!(t instanceof N))throw new se(t.constructor.name);if(this.#e.has(t.constructor))throw new pe(t.constructor.name);this.#e.set(t.constructor,t)}}get(e){const t=this.#e.get(e);if(!t)throw new kt(e.name);return t}add(e){if(!(e instanceof A))throw new se(e);if(this.has(e.constructor))throw new pe(e);this.#e.set(e.constructor,e)}validate(e,t){this.#e.forEach(i=>{e(i)||t(i)})}has(e){return this.#e.has(e)}}class ks{#e=new Map;#t=new Ie;constructor(...e){this.#t=new Ie(...e),this.#s()}#s(){this.#t.validate(e=>e instanceof A,e=>{throw new se(e?.constructor?.name)})}register(e){try{this.#t.add(e),this.#s()}catch(t){j.error(t)}return this}get(e,...t){if(!this.#r(e)){this.#i(e)||this.#t.add(e);const i=this.#t.get(e).create(...t);return this.#e.set(e,i),this.#e.get(e)}return this.#e.get(e)}clear(e){e?this.#e.delete(e):this.#e.clear()}#i(e){return this.#t.has(e)}#r(e){return this.#e.has(e)}}class Ns{#e=new ks;#t={};#s={};#i={};#r(){Ts(this.#e),this.#t.dispatcher=this.#e.get(re),this.#t.board=this.#e.get(ie,this.#t,this.#t.dispatcher),this.#t.game=this.#e.get(oe,this.#t.dispatcher,this.#t.board),this.#t.score=this.#e.get(ae,null),this.#s.board=this.#e.get(Pe),this.#s.effects=this.#e.get(Re,l.sounds.win),this.#s.score=this.#e.get(je),this.#s.modal=this.#e.get(ze),this.#s.controls=this.#e.get(qe,l.UI.gameControls),this.#s.chat=this.#e.get($e,l.UI.chat.chat),this.#s.timer=this.#e.get(Ze,l.UI.timer),this.#i.controls=this.#e.get(We,this.#t.game,this.#t.dispatcher,this.#s.controls),this.#i.chat=this.#e.get(Be,this.#s.chat),this.#i.board=this.#e.get(Te,this.#t.game.board,this.#s.board),this.#i.effects=this.#e.get(ke,this.#s.effects),this.#i.score=this.#e.get(Le,this.#s.score),this.#i.modal=this.#e.get(Ne,this.#s.modal),this.#i.timer=this.#e.get(Ve,this.#s.timer),this.#i.ai=this.#e.get(He,null),this.#o()}#o(){this.#s.controls.setOnRestartGameButtonClick(this.#i.controls.onRestartGameHandler.bind(this.#i.controls)),this.#s.board.setOnCellClick(this.#i.board.handleCellClick.bind(this.#i.board)),this.#s.modal.setOnClose(this.#i.modal.handleModalClose.bind(this.#i.modal)),this.#s.controls.setOnToggleVolumeButtonClick(this.#i.controls.onToggleVolumeHandler.bind(this.#i.controls)),this.#s.controls.setOnSwitchColorThemeButtonClick(this.#i.controls.onSwitchColorThemeHandler.bind(this.#i.controls)),this.#s.controls.setOnGiveUpButtonClick(this.#i.controls.onGiveUpHandler.bind(this.#i.controls))}run(){this.#r();for(const e of Object.values(this.#i))e.boot();this.#t.dispatcher.dispatch(new T)}}const Xe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const Je=([s,e,t])=>{const i=document.createElementNS("http://www.w3.org/2000/svg",s);return Object.keys(e).forEach(a=>{i.setAttribute(a,String(e[a]))}),t?.length&&t.forEach(a=>{const n=Je(a);i.appendChild(n)}),i},Ls=(s,e={})=>{const i={...Xe,...e};return Je(["svg",i,s])};const Ps=s=>Array.from(s.attributes).reduce((e,t)=>(e[t.name]=t.value,e),{}),Fs=s=>typeof s=="string"?s:!s||!s.class?"":s.class&&typeof s.class=="string"?s.class.split(" "):s.class&&Array.isArray(s.class)?s.class:"",Os=s=>s.flatMap(Fs).map(t=>t.trim()).filter(Boolean).filter((t,i,a)=>a.indexOf(t)===i).join(" "),Rs=s=>s.replace(/(\w)(\w*)(_|-|\s*)/g,(e,t,i)=>t.toUpperCase()+i.toLowerCase()),Ee=(s,{nameAttr:e,icons:t,attrs:i})=>{const a=s.getAttribute(e);if(a==null)return;const n=Rs(a),c=t[n];if(!c)return console.warn(`${s.outerHTML} icon name was not found in the provided icons object.`);const h=Ps(s),d={...Xe,"data-lucide":a,...i,...h},m=Os(["lucide",`lucide-${a}`,h,i]);m&&Object.assign(d,{class:m});const p=Ls(c,d);return s.parentNode?.replaceChild(p,s)};const zs=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"}]];const js=[["path",{d:"M4 5h16"}],["path",{d:"M4 12h16"}],["path",{d:"M4 19h16"}]];const Hs=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];const Bs=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}],["path",{d:"M16 16h5v5"}]];const Us=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];const Gs=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]];const Ws=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]];const Ye=({icons:s={},nameAttr:e="data-lucide",attrs:t={},root:i=document,inTemplates:a}={})=>{if(!Object.values(s).length)throw new Error(`Please provide an icons object.
If you want to use all the icons you can import it like:
 \`import { createIcons, icons } from 'lucide';
lucide.createIcons({icons});\``);if(typeof i>"u")throw new Error("`createIcons()` only works in a browser environment.");if(Array.from(i.querySelectorAll(`[${e}]`)).forEach(c=>Ee(c,{nameAttr:e,icons:s,attrs:t})),a&&Array.from(i.querySelectorAll("template")).forEach(h=>Ye({icons:s,nameAttr:e,attrs:t,root:h.content,inTemplates:a})),e==="data-lucide"){const c=i.querySelectorAll("[icon-name]");c.length>0&&(console.warn("[Lucide] Some icons were found with the now deprecated icon-name attribute. These will still be replaced for backwards compatibility, but will no longer be supported in v1.0 and you should switch to data-lucide"),Array.from(c).forEach(h=>Ee(h,{nameAttr:"icon-name",icons:s,attrs:t})))}};Ye({icons:{RefreshCcw:Bs,Volume2:Gs,VolumeX:Ws,Sun:Us,Moon:Hs,Flag:zs,Menu:js}});new Ns().run();
