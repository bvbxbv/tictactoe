(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();const C={fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},de={silent:{level:-1},fatal:{level:C.fatal},error:{level:C.error},warn:{level:C.warn},log:{level:C.log},info:{level:C.info},success:{level:C.success},fail:{level:C.fail},ready:{level:C.info},start:{level:C.info},box:{level:C.info},debug:{level:C.debug},trace:{level:C.trace},verbose:{level:C.verbose}};function Z(s){if(s===null||typeof s!="object")return!1;const e=Object.getPrototypeOf(s);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in s?!1:Symbol.toStringTag in s?Object.prototype.toString.call(s)==="[object Module]":!0}function K(s,e,t=".",i){if(!Z(e))return K(s,{},t);const r=Object.assign({},e);for(const n in s){if(n==="__proto__"||n==="constructor")continue;const l=s[n];l!=null&&(Array.isArray(l)&&Array.isArray(r[n])?r[n]=[...l,...r[n]]:Z(l)&&Z(r[n])?r[n]=K(l,r[n],(t?`${t}.`:"")+n.toString()):r[n]=l)}return r}function st(s){return(...e)=>e.reduce((t,i)=>K(t,i,""),{})}const it=st();function rt(s){return Object.prototype.toString.call(s)==="[object Object]"}function ot(s){return!(!rt(s)||!s.message&&!s.args||s.stack)}let X=!1;const ue=[];class y{options;_lastLog;_mockFn;constructor(e={}){const t=e.types||de;this.options=it({...e,defaults:{...e.defaults},level:J(e.level,t),reporters:[...e.reporters||[]]},{types:de,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const i in t){const r={type:i,...this.options.defaults,...t[i]};this[i]=this._wrapLogFn(r),this[i].raw=this._wrapLogFn(r,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(e){this.options.level=J(e,this.options.types,this.options.level)}prompt(e,t){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(e,t)}create(e){const t=new y({...this.options,...e});return this._mockFn&&t.mockTypes(this._mockFn),t}withDefaults(e){return this.create({...this.options,defaults:{...this.options.defaults,...e}})}withTag(e){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+e:e})}addReporter(e){return this.options.reporters.push(e),this}removeReporter(e){if(e){const t=this.options.reporters.indexOf(e);if(t!==-1)return this.options.reporters.splice(t,1)}else this.options.reporters.splice(0);return this}setReporters(e){return this.options.reporters=Array.isArray(e)?e:[e],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const e in this.options.types)console["__"+e]||(console["__"+e]=console[e]),console[e]=this[e].raw}restoreConsole(){for(const e in this.options.types)console["__"+e]&&(console[e]=console["__"+e],delete console["__"+e])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(e,t){e&&(e.__write||(e.__write=e.write),e.write=i=>{this[t].raw(String(i).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(e){e&&e.__write&&(e.write=e.__write,delete e.__write)}pauseLogs(){X=!0}resumeLogs(){X=!1;const e=ue.splice(0);for(const t of e)t[0]._logFn(t[1],t[2])}mockTypes(e){const t=e||this.options.mockFn;if(this._mockFn=t,typeof t=="function")for(const i in this.options.types)this[i]=t(i,this.options.types[i])||this[i],this[i].raw=this[i]}_wrapLogFn(e,t){return(...i)=>{if(X){ue.push([this,e,i,t]);return}return this._logFn(e,i,t)}}_logFn(e,t,i){if((e.level||0)>this.level)return!1;const r={date:new Date,args:[],...e,level:J(e.level,this.options.types)};!i&&t.length===1&&ot(t[0])?Object.assign(r,t[0]):r.args=[...t],r.message&&(r.args.unshift(r.message),delete r.message),r.additional&&(Array.isArray(r.additional)||(r.additional=r.additional.split(`
`)),r.args.push(`
`+r.additional.join(`
`)),delete r.additional),r.type=typeof r.type=="string"?r.type.toLowerCase():"log",r.tag=typeof r.tag=="string"?r.tag:"";const n=(h=!1)=>{const d=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&d>0){const m=[...this._lastLog.object.args];d>1&&m.push(`(repeated ${d} times)`),this._log({...this._lastLog.object,args:m}),this._lastLog.count=1}h&&(this._lastLog.object=r,this._log(r))};clearTimeout(this._lastLog.timeout);const l=this._lastLog.time&&r.date?r.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=r.date,l<this.options.throttle)try{const h=JSON.stringify([r.type,r.tag,r.args]),d=this._lastLog.serialized===h;if(this._lastLog.serialized=h,d&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin)){this._lastLog.timeout=setTimeout(n,this.options.throttle);return}}catch{}n(!0)}_log(e){for(const t of this.options.reporters)t.log(e,{options:this.options})}}function J(s,e={},t=3){return s===void 0?t:typeof s=="number"?s:e[s]&&e[s].level!==void 0?e[s].level:t}y.prototype.add=y.prototype.addReporter;y.prototype.remove=y.prototype.removeReporter;y.prototype.clear=y.prototype.removeReporter;y.prototype.withScope=y.prototype.withTag;y.prototype.mock=y.prototype.mockTypes;y.prototype.pause=y.prototype.pauseLogs;y.prototype.resume=y.prototype.resumeLogs;function at(s={}){return new y(s)}class nt{options;defaultColor;levelColorMap;typeColorMap;constructor(e){this.options={...e},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(e){return e<1?console.__error||console.error:e===1?console.__warn||console.warn:console.__log||console.log}log(e){const t=this._getLogFn(e.level),i=e.type==="log"?"":e.type,r=e.tag||"",l=`
      background: ${this.typeColorMap[e.type]||this.levelColorMap[e.level]||this.defaultColor};
      border-radius: 0.5em;
      color: white;
      font-weight: bold;
      padding: 2px 0.5em;
    `,h=`%c${[r,i].filter(Boolean).join(":")}`;typeof e.args[0]=="string"?t(`${h}%c ${e.args[0]}`,l,"",...e.args.slice(1)):t(h,l,...e.args)}}function Ae(s={}){return at({reporters:s.reporters||[new nt({})],prompt(t,i={}){return i.type==="confirm"?Promise.resolve(confirm(t)):Promise.resolve(prompt(t))},...s})}Ae();const j=Ae({level:C.debug}),ct="/tictactoe/assets/hannibal-DzwWroNJ.png",lt="/tictactoe/assets/heizenberg-Bf1_-u8D.png",ht="/tictactoe/assets/postaldude-BxTe0e26.png",dt="/tictactoe/assets/tylerdurden-CTri0BzL.png",ut="/tictactoe/assets/tywinlanister-BnGPjir8.png",Me={hannibal:ct,heizenberg:lt,postaldude:ht,tylerdurden:dt,tywinlanister:ut};function mt(s,e,t,i,r,n){const l=document.createElement("button");l.className="ai-card group my-5 first:mt-0 md:my-0 cursor-pointer w-full h-[300px] md:h-full",l.dataset.ai=e;const h=document.createElement("img");h.src=s,h.alt=e,h.className="w-full h-48 object-contain md:object-cover rounded-xl group-hover:scale-105 transition";const d=document.createElement("p");d.innerHTML=`<span class="${r}">${t}</span>${n?' | <span class="text-red-500">18+</span>':""}`,d.className="mt-3 text-lg font-bold text-gray-800 dark:text-white";const m=document.createElement("p");return m.textContent=i,m.className="text-sm text-gray-600 dark:text-gray-400",l.appendChild(h),l.appendChild(d),l.appendChild(m),l}function ft(){const s=document.createElement("button");s.className="ai-card group cursor-pointer w-full h-[300px] md:h-full",s.dataset.ai="random";const e=document.createElement("span");e.className="text-5xl text-gray-800 dark:text-white flex items-center justify-center h-[250px]",e.textContent="?";const t=document.createElement("p");return t.className="mt-3 text-lg font-bold text-gray-800 dark:text-white",t.textContent="–ú–Ω–µ –ø–æ–≤–µ–∑–µ—Ç!",s.append(e,t),s}function pt(s){const e=document.createElement("div");e.className="flex items-center my-4";const t=document.createElement("div");t.className="flex-1 border-t border-gray-400";const i=document.createElement("span");i.className="mx-4 font-bold text-gray-800 dark:text-gray-400 text-sm",i.textContent=`New challenger appears: ${s}`;const r=document.createElement("div");return r.className="flex-1 border-t border-gray-400",e.append(t,i,r),e}function gt(s,e,t={}){const{wrap:i="",nick:r="",msg:n=""}=t,l=document.createElement("div");l.className=`chat-message flex py-5 pb-2 gap-4 items-start ${i}`.trim();const h=document.createElement("img");h.className="w-10 h-10 sm:w-12 sm:h-12 rounded-full flex-shrink-0",h.src=Me[s.toLowerCase()],h.alt="pfp";const d=document.createElement("div");d.className="flex flex-col";const m=document.createElement("div");m.className=`__nickname ${t?.nick} font-bold tracking-tighter ${r}`.trim(),m.textContent=s;const p=document.createElement("div");return p.className=`__message tracking-wide font-[roboto] ${n}`.trim(),p.textContent=e,d.append(m,p),l.append(h,d),l}const bt={_byId(s){const e=document.getElementById(s);return e||j.error(`UI element not found: "${s}"`),e},_bySelector(s,e=document){const t=e.querySelectorAll(s);return(!t||t.length===0)&&j.error(`UI elements not found: "${s}"`),t},get mount(){return document.documentElement},get chooseModal(){return{root:this._byId("choose-ai-modal"),content:this._byId("choose-ai-content"),getOption:(s,e,t,i,r,n)=>mt(s,e,t,i,r,n),emptyOption:ft()}},get gameControls(){return{root:this._byId("controls"),restartGameButton:this._byId("game-restart"),toggleVolumeButton:this._byId("volume-toggle"),switchColorThemeButton:this._byId("color-theme-switch"),giveUpButton:this._byId("give-up"),openMenuButton:this._byId("menu-open"),openAIChooseButton:this._byId("choose-ai"),icons:{unmutedIcon:this._byId("volume-unmuted-icon"),mutedIcon:this._byId("volume-muted-icon"),lightTheme:this._byId("theme-light-icon"),darkTheme:this._byId("theme-dark-icon")}}},get timer(){return{root:this._byId("timer"),display:this._byId("timer-display")}},get board(){const s=this._byId("board-content");return{root:s,cells:s?this._bySelector(".cell",s):[]}},get chat(){return{chat:this._byId("chat"),root:this._byId("chat-sidebar"),openButton:this._byId("menu-open"),closeButton:this._byId("close-sidebar"),separator:s=>pt(s),message:(s,e,t={})=>gt(s,e,t)}},get modal(){return{body:this._byId("modal"),title:this._byId("modal-message"),board:this._byId("mini-board"),button:this._byId("modal-btn")}},get score(){return{cross:this._byId("score-cross-player"),zero:this._byId("score-zero-player"),crossLabel:this._byId("score-cross-label"),zeroLabel:this._byId("score-zero-label")}}},yt="/tictactoe/assets/cell-click-yr6HZITF.wav",vt="/tictactoe/assets/loose-BIu51ylJ.wav",wt="/tictactoe/assets/win-DU-AANKB.wav",Ct={win:wt,cellClick:yt,loose:vt};function b(s,e,t=null){const i=s?.constructor?.name??s?.name??"UnknownContext";j.start(`[Event] ${e.name} emitted by ${i}`,xe(null,t))}function _(s,e,t,i=null){const r=s?.constructor?.name??s?.name??"UnknownContext";j.info(`[Event] ${e.name} handled by ${r}.${t?.name}`,xe(r,i))}function xe(s,e){const t={};return s?.name&&(t.context=s.name),e!==void 0&&(t.payload=e),t}const St=s=>({ok:!0,value:s}),me=(s,e)=>({ok:!1,value:null,error:{code:s,message:e}});function v(s,e=!1){if(!Array.isArray(s))throw new Error(`${s} —ç—Ç–æ –Ω–µ –º–∞—Å—Å–∏–≤`);const t=Math.floor(Math.random()*s.length);return e?t:s[t]}function It(s,e){return Math.floor(Math.random()*(e-s+1))+s}function _t(s){return s>1&&(s=s/100),Math.random()<=s}const o=(s,e,t)=>({message:s,className:e,chance:t}),a=Object.freeze({Sarcasm:"italic",Default:""}),Et={win:[o("–ë—Ä–∞–≤–æ. –¢—ã –æ–∫–∞–∑–∞–ª—Å—è‚Ä¶ –¥–æ—Å—Ç–æ–π–Ω—ã–º –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–º.",a.Default,100),o("–ò–∑—è—â–Ω–∞—è –ø–∞—Ä—Ç–∏—è. –Ø –∑–∞–ø–æ–º–Ω—é —Ç–≤–æ–π –≤–∫—É—Å.",a.Default,100),o("–¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª —Å –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–æ–º. –≠—Ç–æ —Ä–µ–¥–∫–æ—Å—Ç—å.",a.Sarcasm,100),o("–Ø –≤—Å–µ–≥–¥–∞ –≤—ã–∏–≥—Ä—ã–≤–∞—é. –í–æ–ø—Ä–æ—Å –ª–∏—à—å –≤ —Ç–æ–º ‚Äî –∫–∞–∫ –±—ã—Å—Ç—Ä–æ.",a.Default,100),o("–¢–≤–æ—è –±–æ—Ä—å–±–∞ –±—ã–ª–∞ –≤–æ—Å—Ö–∏—Ç–∏—Ç–µ–ª—å–Ω–∞. –ö–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –¥—ã—Ö–∞–Ω–∏–µ.",a.Default,100)],loose:[o("–ü–æ–∑–¥—Ä–∞–≤–ª—è—é. –¢—ã –æ–∫–∞–∑–∞–ª—Å—è‚Ä¶ –æ—Å—Ç—Ä–µ–µ, —á–µ–º —è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª.",a.Default,100),o("–°–µ–≥–æ–¥–Ω—è —Ç—ã –ø–æ–±–µ–¥–∏–ª. –ù–∞—Å–ª–∞–∂–¥–∞–π—Å—è. –≠—Ç–æ –Ω–µ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è.",a.Sarcasm,100),o("–¢—ã –≤—ã–∂–∏–ª. –ü–æ–∫–∞ —á—Ç–æ —ç—Ç–æ –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç.",a.Default,100),o("–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å ‚Äî —Ä–µ–¥–∫–∏–π –¥–µ–ª–∏–∫–∞—Ç–µ—Å.",a.Default,100)],draw:[o("–ù–∏—á—å—è. –ò–¥–µ–∞–ª—å–Ω–∞—è —Å–∏–º–º–µ—Ç—Ä–∏—è.",a.Default,100),o("–ù–∏–∫—Ç–æ –Ω–µ —É–º–µ—Ä. –ö–∞–∫ —Å–∫—É—á–Ω–æ‚Ä¶ –∏ –∫–∞–∫ –∫—Ä–∞—Å–∏–≤–æ.",a.Sarcasm,100),o("–ú—ã –æ–±–∞ –ø—Ä–æ—è–≤–∏–ª–∏ –æ—Ç–º–µ–Ω–Ω—ã–π –≤–∫—É—Å.",a.Sarcasm,100)],defense:[o("–¢—ã –∑–∞—Å—Ç–∞–≤–ª—è–µ—à—å –º–µ–Ω—è –∑–∞—â–∏—â–∞—Ç—å—Å—è. –ö–∞–∫ –Ω–µ–≤–µ–∂–ª–∏–≤–æ.",a.Sarcasm,100),o("–¢–≤–æ–∏ —É–≥—Ä–æ–∑—ã‚Ä¶ —Ç–∞–∫–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ.",a.Default,100),o("–Ø —á—É–≤—Å—Ç–≤—É—é —Ç–≤–æ–π —Å—Ç—Ä–∞—Ö. –û–Ω –ø–∞—Ö–Ω–µ—Ç –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ.",a.Default,100)],center:[o("–¶–µ–Ω—Ç—Ä ‚Äî —ç—Ç–æ —Å–µ—Ä–¥—Ü–µ. –¢—ã –µ–≥–æ —Ç–æ–ª—å–∫–æ —á—Ç–æ –æ—Ç–¥–∞–ª.",a.Default,100),o("–ö—Ç–æ –≤–ª–∞–¥–µ–µ—Ç —Ü–µ–Ω—Ç—Ä–æ–º ‚Äî –≤–ª–∞–¥–µ–µ—Ç —Ç—Ä–∞–ø–µ–∑–æ–π.",a.Default,100)],random:[o("–ì—Ä—É–±–æ—Å—Ç—å ‚Äî –ø—Ä–∏–≤–∫—É—Å –Ω–µ–≤–æ—Å–ø–∏—Ç–∞–Ω–Ω–æ—Å—Ç–∏.",a.Default,100),o("–¢–∏—à–∏–Ω–∞, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞. –Ø –Ω–∞—Å–ª–∞–∂–¥–∞—é—Å—å —Ç–≤–æ–∏–º –æ—Ç—á–∞—è–Ω–∏–µ–º.",a.Sarcasm,100),o("Quid pro quo. –¢—ã –∏–≥—Ä–∞–µ—à—å ‚Äî —è –Ω–∞–±–ª—é–¥–∞—é.",a.Default,100),o("–ù–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª—É—á–∞–π–Ω–æ.",a.Default,100)],fork:[o("–î–≤–∞ –ø—É—Ç–∏. –û–±–∞ –≤–µ–¥—É—Ç –∫–æ –º–Ω–µ.",a.Sarcasm,100),o("–í—ã–±–∏—Ä–∞–π. –Ø —É–∂–µ –≤—ã–±—Ä–∞–ª —Å–æ—É—Å.",a.Default,100)],emojiPresets:{aiWin:["üç∑","üçΩÔ∏è","ü´Ä","üî™","üñ§"],aiLose:["üòî","üöî","üîó","üè•"]}},At={win:[o("–Ø —Ç–æ—Ç, –∫—Ç–æ —Å—Ç—É—á–∏—Ç. –ù–µ—Ç, —è –Ω–µ —Å—Ç—É–∫–∞—á, –Ω–µ –ø–æ–¥—É–º–∞–π...",a.Default,100),o("–ù–∞–∑–æ–≤–∏ –º–æ—ë –∏–º—è. –ù–µ—Ç, –ø—Ä–∞–≤–¥–∞. –ù–∞–∑–æ–≤–∏",a.Sarcasm,100),o("–Ø –ø–æ–±–µ–¥–∏–ª.",a.Default,100),o("–ó–Ω–∞–µ—à—å, –ª—É—á—à–µ –±—ã —Ä–∞–∫ –º–µ–Ω—è –¥–æ–±–∏–ª. –≠—Ç–æ –±—ã–ª–æ –±—ã –≤—Å—è–∫–æ –ª—É—á—à–µ, —á–µ–º –∏–≥—Ä–∞—Ç—å —Å —Ç–æ–±–æ–π",a.Sarcasm,100),o("–ò–¥—Ç–∏ –º–æ–∂–µ—à—å? –¢–∞–∫ –∏–¥–∏ –æ—Ç—Å—é–¥–∞ –Ω–∞—Ö–µ—Ä",a.Default,100)],loose:[o("–≠—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã–ª–æ —Å–ª—É—á–∏—Ç—å—Å—è.",a.Default,100),o("–≠—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –≤—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ—É–¥–∞—á–∞.",a.Default,100),o("–Ø –≤–µ—Ä–Ω—É—Å—å. –ò —Ç—ã –ø–æ–∂–∞–ª–µ–µ—à—å.",a.Sarcasm,100),o("–Ø —á—É–≤—Å—Ç–≤—É—é‚Ä¶ —Å–ª–∞–±–æ—Å—Ç—å.",a.Default,100)],draw:[o("–ú—ã –æ–±–∞ —Å–ª–∏—à–∫–æ–º —Ö–æ—Ä–æ—à–∏.",a.Sarcasm,100),o("–†–∞–≤–Ω–æ–≤–µ—Å–∏–µ. –ü–æ–∫–∞.",a.Default,100),o("–¢—ã –¥–µ—Ä–∂–∏—à—å—Å—è. –ü–æ–∫–∞ –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç.",a.Sarcasm,100),o("–ú—ã –æ–±–∞ –≤—Å—ë –µ—â—ë —Å—Ç–æ–∏–º.",a.Default,100),o("–ü–æ–∫–∞ –º—ã –Ω–∞ —Ä–∞–≤–Ω—ã—Ö.",a.Default,100)],defense:[o("–¢—ã –Ω–µ –ø—Ä–æ–π–¥—ë—à—å.",a.Sarcasm,100),o("–≠—Ç–æ –º–æ—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è.",a.Default,100),o("–Ø –Ω–∞ —Ç—Ä–∏ —Ö–æ–¥–∞ –≤–ø–µ—Ä–µ–¥–∏.",a.Default,100),o("–ü–æ–ø—Ä–æ–±—É–π. –Ø –∂–¥—É.",a.Sarcasm,100)],center:[o("–¶–µ–Ω—Ç—Ä –º–æ–π.",a.Default,100),o("–Ø –¥–∏–∫—Ç—É—é –ø—Ä–∞–≤–∏–ª–∞ –≤ —Å–µ—Ä–¥—Ü–µ –ø–æ–ª—è.",a.Sarcasm,100),o("–¢—ã —Ö–æ—á–µ—à—å —Ü–µ–Ω—Ç—Ä? –ü—Ä–∏–¥—ë—Ç—Å—è –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—è.",a.Sarcasm,100)],random:[o("–°–ª—É—á–∞–π–Ω–æ—Å—Ç—å? –Ø –Ω–µ –≤–µ—Ä—é –≤ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏.",a.Default,100),o("–ö–∞–∂–¥—ã–π ¬´—Å–ª—É—á–∞–π–Ω—ã–π¬ª —Ö–æ–¥ —è –ø—Ä–æ—Å—á–∏—Ç–∞–ª –µ—â—ë –≤—á–µ—Ä–∞.",a.Default,100),o('–Ø —É–ø—Ä–∞–≤–ª—è—é –¥–∞–∂–µ —Ç–≤–æ–∏–º–∏ "—Å—é—Ä–ø—Ä–∏–∑–∞–º–∏".',a.Sarcasm,100)],fork:[o("–í–∏–ª–∫–∞? –Ø —É–∂–µ –≤—ã–±—Ä–∞–ª –∑–∞ —Ç–µ–±—è.",a.Sarcasm,100),o("–î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ ‚Äî –æ–±–∞ –º–æ–∏.",a.Default,100),o("–í–∏–ª–∫–∞ ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —è –ø–æ–∑–≤–æ–ª—è—é —Ç–µ–±–µ –¥—É–º–∞—Ç—å, —á—Ç–æ —É —Ç–µ–±—è –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã.",a.Default,100),o("–õ—é–±–æ–π —Ç–≤–æ–π –≤—ã–±–æ—Ä –≤–µ–¥—ë—Ç –∫–æ –º–Ω–µ.",a.Default,100),o("–Ø –≤–∏–¥–µ–ª —ç—Ç—É —Ä–∞–∑–≤–∏–ª–∫—É –µ—â—ë –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Ç—ã —Ä–æ–¥–∏–ª—Å—è.",a.Sarcasm,100),o("–í—ã–±–∏—Ä–∞–π. –í—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–æ–∏–≥—Ä–∞–µ—à—å.",a.Sarcasm,100)],emojiPresets:{aiWin:["üíô","üß™","üíé","üòà","üëë","ü§†","üîµ","üí∞","üòé","üó£Ô∏è"],aiLoose:["üöî","üòî","üîó","üòû","‚ö∞Ô∏è","ü§ê","üò∑","üèúÔ∏è","üöì","üíî"]}},Mt={win:[o("–ß–µ–ª, —Ç—ã —Ö–æ—Ç—å —Ä–∞–∑ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤–æ–æ–±—â–µ –≤–∫–ª—é—á–∞–ª?",a.Default,100),o("–ö–∏—Å-–∫–∏—Å-–∫–∏—Å-–∫–∏—Å-–∫–∏—Å",a.Sarcasm,100),o("–í—ã–∫—É—Å–∏",a.Default,100),o("–Ø –Ω–µ –≤–∏–∂—É –ø—Ä–∏—á–∏–Ω —Å–æ–º–Ω–µ–≤–∞—Ç—å—Å—è –≤ —Å–µ–±–µ‚Ä¶ —Å–µ–≥–æ–¥–Ω—è",a.Default,100),o("–ë–ª–∞–≥–æ—Å–ª–æ–≤–∏ –º–µ–Ω—è, –æ—Ç—á–µ, —è —Å-—Å-—Å–∏–ª—å–Ω–æ —Å–æ–≥—Ä–µ—à–∏–ª, –æ—á-—á–µ–Ω—å —Å–∏–ª—å–Ω–æ! –ù–µ, —è –Ω–µ —à—É—á—É, —è –ë–û–õ–¨–®–û–ô –ì–†–ï–®–ù–ò–ö, –¥–∞!",a.Default,100),o("–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–∞ - —Å–¥–µ–ª–∞–Ω–æ, –æ–±–Ω–∞–ª–∏—á–∏—Ç—å —á–µ–∫ - —Å–¥–µ–ª–∞–Ω–æ, —Ç–≤–æ—è –º–∞–º–∞ - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ",a.Default,100),o("–•–∞, —Ç–µ–ø–µ—Ä—å —Ç—ã —Ç–æ—á–Ω–æ –¥–æ–ª–∂–µ–Ω –ø–æ–¥–ø–∏—Å–∞—Ç—å –ø–µ—Ç–∏—Ü–∏—é",a.Default,100),o("–ï—â—ë –æ–¥–Ω–∞ –ø–æ–±–µ–¥–∞ –¥–ª—è –¥–µ–º–æ–∫—Ä–∞—Ç–∏–∏",a.Default,100),o("–•–∞—Ö–∞—Ö–∞—Ö–∞, —Ç—ã... –≠—ç—ç... –Ø –Ω–µ –ø—Ä–∏–¥—É–º–∞–ª, –Ω–æ —Ç—ã —Ç–æ—á–Ω–æ –Ω–µ –∫—Ä—É—Ç–æ–π",a.Default,100),o("–¢—ã, –≤–µ—Ä–æ—è—Ç–Ω–æ, –∏ –Ω–µ –¥—É–º–∞–ª, —á—Ç–æ —Ç–µ–±–µ —Å—É–∂–¥–µ–Ω–æ –ø—Ä–æ–∏–≥—Ä–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è‚Ä¶ –°—é—Ä–ø—Ä–∏–∑!!!",a.Default,100)],loose:[o("–û–∫–µ–π-–æ–∫–µ–π, –≤—ã–∏–≥—Ä–∞–ª –≤ –∫—Ä–µ—Å—Ç–∏–∫–∞—Ö –Ω–æ–ª–∏–∫–∞—Ö —É –µ–¥–∏–Ω–∏—Ü –∏ –Ω–æ–ª–∏–∫–æ–≤. –ü–æ–∑–æ–≤–∏ –º–∞–º–æ—á–∫—É, –ø–æ—Ö–≤–∞—Å—Ç–∞–π—Å—è –ø–µ—Ä–µ–¥ –Ω–µ–π",a.Default,100),o("–î–∞–∂–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç—å –≤ —ç—Ç–æ–π –ø–∞—Ä–∞—à–µ –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ, —á–µ–º –≤—ã–∏–≥—Ä—ã–≤–∞—Ç—å –≤ minds eye",a.Default,100),o("–ú–æ–∂–µ—Ç —Ö–æ—Ç—è –±—ã –ø–µ—Ç–∏—Ü–∏—é –ø–æ–¥–ø–∏—à–µ—à—å?",a.Default,100),o("–ú–æ–π –Ω–æ–ª–∏–∫‚Ä¶ —É–Ω–∏–∂–µ–Ω! –ß—ë—Ä—Ç –≤–æ–∑—å–º–∏!",a.Default,100),o("–ú—ã –æ–±–∞ –ø—Ä–æ–∏–≥—Ä–∞–ª–∏‚Ä¶ –≤ –∫–∞–∫–æ–º-—Ç–æ —Å–º—ã—Å–ª–µ",a.Default,100),o("–ù–∏—á—å—è ‚Äî –µ—â—ë –æ–¥–∏–Ω –ø–æ–≤–æ–¥ —É—Å—Ç—Ä–æ–∏—Ç—å –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—É",a.Sarcasm,100),o("–¢—ã –∂–µ –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–µ –∞–Ω–æ–Ω–∏–º–µ–Ω, –¥–∞?",a.Default,100),o("–Ø —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –¥–µ—Ä—å–º–æ–º.",a.Default,100),o("–Ø... –Ω–∏ –æ —á—ë–º... –Ω–µ –∂–∞–ª–µ—é.",a.Default,100),o("–ß—Ç–æ-—Ç–æ —É —Ç–µ–±—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ä–∞–¥–æ—Å—Ç–∏, –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞ —Å –ø–æ–¥–∂–∏–≥–∞–µ–º—ã–º –¥–æ–º–æ–º",a.Default,100)],draw:[o("–î–∞ —Ç—ã –ø—Ä–æ—Å—Ç–æ –∑–∞—Å—Ä–∞–ª —Å–≤–æ–∏–º–∏ –∫—Ä–µ—Å—Ç–∏–∫–∞–º–∏ –≤—Å—ë –ø–æ–ª–µ",a.Default,100),o("–†–∞–∑ –º—ã —Ä–∞–∑–æ—à–ª–∏—Å—å –ø–æ–ª—é–±–æ–≤–Ω–æ... –ü–æ–¥–ø–∏—à–µ—à—å –ø–µ—Ç–∏—Ü–∏—é?",a.Default,100),o("–ú—ã –æ–±–∞ –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. –ù–æ —Ç—ã –±–æ–ª—å—à–µ",a.Default,100),o("–ß—É–≤–∞–∫... –ú—ã –ø–æ —Ö–æ–¥—É –æ–±–∞ –ø—Ä–æ–∏–≥—Ä–∞–ª–∏...",a.Default,100),o("–ù–∏—á—å—è? –ß–µ—Ä—Ç, —è –¥—É–º–∞–ª —ç—Ç–æ –±—É–¥–µ—Ç —Ö–∞–æ—Å... –ê —Ç—É—Ç –ø—Ä–æ—Å—Ç–æ –Ω–∏—á—Ç–æ",a.Default,100),o("–ò –¥–∞–∂–µ –Ω–∏—á–µ–≥–æ –Ω–µ –≤–∑–æ—Ä–≤–∞–ª–æ—Å—å? –Ø —Ä–∞-–∑–æ-—á–∞-—Ä–æ-–≤–∞–Ω",a.Default,100),o("–ù–µ—É–∂–µ–ª–∏ –º—ã –Ω–µ –º–æ–∂–µ–º —É–∂–∏—Ç—å—Å—è?",a.Sarcasm,100),o("–≠–π, –Ω—É –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –Ω–æ–≤–æ—Å—Ç–∏ –Ω–µ –≤—Å–µ –ø–ª–æ—Ö–∏–µ.",a.Default,100)],defense:[o("–•—Ä–µ–Ω —Ç–∞–º. –ù–µ —Ç–∞–∫ –±—ã—Å—Ç—Ä–æ.",a.Sarcasm,100),o("–î—É–º–∞–µ—à—å —Ç—ã —Å–∞–º—ã–π —É–º–Ω—ã–π? –í—Ä—è–¥ –ª–∏",a.Sarcasm,100),o("–ü–æ—Å–º–æ—Ç—Ä–∏–º —á—Ç–æ —Ç—ã –µ—â—ë –º–æ–∂–µ—à—å –≤—ã–∫–∏–Ω—É—Ç—å",a.Default,100),o("–ü–µ—Ç–∏—Ü–∏—è –∏–ª–∏ —Ö–∞–æ—Å ‚Äî –≤—ã–±–æ—Ä –∑–∞ —Ç–æ–±–æ–π!",a.Default,100),o("–ù–µ—Ç!",a.Sarcasm,100),o("–ù–∏ –∑–∞ —á—Ç–æ!",a.Sarcasm,100),o("–ù–µ –≤—ã–π–¥–µ—Ç!",a.Sarcasm,100)],center:[o("–¶–µ–Ω—Ç—Ä —ç—Ç–æ –∫–∞–∫ –±–µ–Ω–∑–∏–Ω... –î–æ—Ä–æ–∂–∞–µ—Ç?",a.Sarcasm,100),o("–í—ã –Ω–µ –ø–æ–¥–ø–∏—à–∏—Ç–µ –º–æ—é –ø–µ—Ç–∏—Ü–∏—é?",a.Sarcasm,100),o("–°—á—ë—Ç!",a.Sarcasm,100),o("–¢–µ–ø–µ—Ä—å-—Ç–æ —Ç—ã —Ç–æ—á–Ω–æ –≤ –∂–æ–ø–µ...",a.Default,100)],random:[o("–°–¥–∞–≤–∞–π—Å—è –∏–ª–∏ —Å–º–µ—Ä—Ç—å - –≤—ã–±–∏—Ä–∞–π –ø–æ–∫–∞ –Ω–µ —Ä–µ—à–∏–ª —è",a.Sarcasm,100),o("–í–ø–µ—á–∞—Ç–ª–µ–Ω? –î–∞? –ù–µ—Ç? –ù–∞—Å—Ä–∞—Ç—å",a.Sarcasm,100),o("–≠–º...",a.Sarcasm,100),o("–õ–∞–¥–Ω–æ.",a.Default,100),o("–•–º.",a.Sarcasm,100),o("–ê —á–µ –∑–∞ –∏–≥—Ä–∞ –≤–æ–æ–±—â–µ? –ö–∞–∫ —Å—Ç—Ä–µ–ª—è—Ç—å?",a.Default,100)],fork:[o("–í–∏–ª–∫–æ–π –≤ –≥–ª–∞–∑ –∏–ª–∏... –≥–æ –Ω–µ–∫—Å—Ç?",a.Default,100),o("–•–ê–•–ê, –î–í–ï –£–ì–†–û–ó–´ –°–†–ê–ó–£. –Ø –ì–ï–ù–ò–ô",a.Default,100),o("–î–≤–æ–π–Ω–æ–π —Å—é—Ä–ø—Ä–∏–∑, –º—É–¥–∏–ª–∞",a.Sarcasm,100),o("–≠—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –º–µ–Ω—è, –Ω–æ —è —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –û–¢–õ–ò–ß–ù–û! ",a.Sarcasm,100),o("–Ø —Ä–∞–≤–Ω–æ–ø—Ä–∞–≤–Ω—ã–π –ø—Å–∏—Ö!",a.Sarcasm,100),o("–ò –µ—â—ë –æ–¥–Ω—É –¥–ª—è –≤–µ—Ä–Ω–æ—Å—Ç–∏!",a.Sarcasm,100)],emojiPresets:{aiWin:["üíÄ","‚ò†Ô∏è","üî™","ü©∏","üòà","ü§°","üñï","üî´","üí£","üß®"],aiLoose:["üî•","üí•","‚ö°","üòé","üñï","ü§Ø","üí∞","ü§ô","üëå","üèÜ"]}},xt={win:[o("–¢—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø—Ä–æ–∏–≥—Ä–∞–ª —á–µ–ª–æ–≤–µ–∫—É, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –Ω–∏—á–µ–≥–æ.",a.Sarcasm,100),o("–°–∞–º–æ—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –º–∞—Å—Ç—É—Ä–±–∞—Ü–∏—è. –ê —è —É–∂–µ –∫–æ–Ω—á–∏–ª.",a.Sarcasm,100),o("–¢—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª –º–µ–Ω—è –≤ –æ—á–µ–Ω—å —Å—Ç—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –º–æ–µ–π –∂–∏–∑–Ω–∏.",a.Sarcasm,100),o("–Ø —Å–≤–æ–±–æ–¥–µ–Ω –≤–æ –≤—Å—ë–º, —á–µ–≥–æ —Ç—ã –±–æ–∏—à—å—Å—è.",a.Default,100)],loose:[o("–Ø –ø—Ä–æ–∏–≥—Ä–∞–ª‚Ä¶ –∏ –º–Ω–µ –ø–æ—Ö–µ—Ä.",a.Default,100),o("–ü–æ—Ä–∞–∂–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –µ—â—ë –æ–¥–∏–Ω —Å–∏–Ω—è–∫.",a.Default,100),o("–¢—ã –¥—É–º–∞–µ—à—å, —ç—Ç–æ –∫–æ–Ω–µ—Ü? –≠—Ç–æ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ.",a.Sarcasm,100)],draw:[o("–ù–∏–∫—Ç–æ –Ω–µ –ø–æ–±–µ–¥–∏–ª. –ù–∏–∫—Ç–æ –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω.",a.Default,100),o("–†–∞–≤–Ω–æ–≤–µ—Å–∏–µ? –ú—ã –æ–±–∞ –∑–Ω–∞–µ–º, —á—Ç–æ –æ–Ω–æ —Å–∫–æ—Ä–æ —Ä—É—Ö–Ω–µ—Ç.",a.Sarcasm,100),o("–ú—ã –æ–±–∞ –≤—Å—ë –µ—â—ë —Å—Ç–æ–∏–º. –≠—Ç–æ —É–∂–µ –ø–æ–±–µ–¥–∞.",a.Default,100),o("–°–µ–≥–æ–¥–Ω—è –º—ã –æ–±–∞ –∫—Ä–æ–≤–æ—Ç–æ—á–∏–º. –ò–¥–µ–∞–ª—å–Ω–æ.",a.Sarcasm,100),o("–ù–∏ –æ–¥–∏–Ω –∏–∑ –Ω–∞—Å –Ω–µ —Å–ª–æ–º–∞–ª—Å—è. –ü–æ–∫–∞.",a.Default,100)],defense:[o("–£–¥–∞—Ä—å –º–µ–Ω—è.",a.Sarcasm,100),o("–°–∏–ª—å–Ω–µ–µ.",a.Default,100),o("–Ø —Ö–æ—á—É —ç—Ç–æ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å.",a.Default,100),o("–ú–Ω–µ –Ω–µ—á–µ–≥–æ —Ç–µ—Ä—è—Ç—å.",a.Default,100)],center:[o("–Ø –Ω–µ –±–µ—Ä—É —Ü–µ–Ω—Ç—Ä. –Ø –∏–º —è–≤–ª—è—é—Å—å.",a.Sarcasm,100),o("–°–µ—Ä–µ–¥–∏–Ω–∞ –¥–æ—Å–∫–∏ ‚Äî –º–µ—Å—Ç–æ, –≥–¥–µ —Ä—É—à–∞—Ç—Å—è –∏–ª–ª—é–∑–∏–∏.",a.Default,100),o("–ö—Ç–æ –≤–ª–∞–¥–µ–µ—Ç —Ü–µ–Ω—Ç—Ä–æ–º ‚Äî –≤–ª–∞–¥–µ–µ—Ç –±–æ–ª—å—é.",a.Sarcasm,100),o("–Ø –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é —Ü–µ–Ω—Ç—Ä. –¶–µ–Ω—Ç—Ä –±–æ–∏—Ç—Å—è –º–µ–Ω—è.",a.Sarcasm,100)],random:[o("–¢—ã –≤—Å—ë –µ—â—ë –¥—É–º–∞–µ—à—å, —á—Ç–æ —ç—Ç–æ –∏–≥—Ä–∞?",a.Sarcasm,100),o("–ü–µ—Ä–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ: —Ç—ã –Ω–µ –≥–æ–≤–æ—Ä–∏—à—å –æ –∫—Ä–µ—Å—Ç–∏–∫–∞—Ö-–Ω–æ–ª–∏–∫–∞—Ö.",a.Sarcasm,100),o("–í—Ç–æ—Ä–æ–µ –ø—Ä–∞–≤–∏–ª–æ: –¢–´ –ù–ï –ì–û–í–û–†–ò–®–¨ –û –ö–†–ï–°–¢–ò–ö–ê–•-–ù–û–õ–ò–ö–ê–•!",a.Default,100),o("–í—Å—ë, —á—Ç–æ —Ç—ã –ª—é–±–∏—à—å ‚Äî –æ–¥–Ω–∞–∂–¥—ã –∏—Å—á–µ–∑–Ω–µ—Ç.",a.Default,100),o("–¢—ã ‚Äî —Ç–æ—Ç –∂–µ –≥–Ω–∏—é—â–∏–π –∫—É—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∫–∏, —á—Ç–æ –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ.",a.Sarcasm,100),o("–û—Ç–ø—É—Å—Ç–∏. –í—Å—ë.",a.Default,100)],fork:[o("–î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞? –û–±–∞ –≤–µ–¥—É—Ç –≤ –∞–¥. –í—ã–±–∏—Ä–∞–π –±—ã—Å—Ç—Ä–µ–µ.",a.Sarcasm,100),o("–í–∏–ª–∫–∞? –Ø —É–∂–µ —É–¥–∞—Ä–∏–ª —Ç–µ–±—è –ø–æ –ª–∏—Ü—É –±—É–¥—É—â–∏–º.",a.Sarcasm,100)],emojiPresets:{aiWin:["üí•","üëä","üî•","üòà","üßº","ü©∏","‚úä","üß®","üè¥‚Äç‚ò†Ô∏è","üñï"],aiLoose:["üòµ","ü§ï","ü©∏","üò≠","üè•","üíî","üöë","ü™¶","ü§¶","üòû"]}},Dt={win:[o("–õ–µ–≤ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç—Å—è –º–Ω–µ–Ω–∏–µ–º –æ–≤–µ—Ü.",a.Default,100),o("–Ø –ø–æ–±–µ–¥–∏–ª –µ—â—ë –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ —Ç—ã —Å–¥–µ–ª–∞–ª –ø–µ—Ä–≤—ã–π —Ö–æ–¥.",a.Sarcasm,100),o("–¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª –≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ —Ä–µ—à–∏–ª, —á—Ç–æ –º–æ–∂–µ—à—å –∏–≥—Ä–∞—Ç—å —Å–æ –º–Ω–æ–π.",a.Default,100),o("–õ—é–±–æ–π —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –≥–æ–≤–æ—Ä–∏—Ç—å ¬´—è –∫–æ—Ä–æ–ª—å¬ª, ‚Äî –Ω–µ –Ω–∞—Å—Ç–æ—è—â–∏–π –∫–æ—Ä–æ–ª—å.",a.Sarcasm,100),o("–¢–≤–æ—ë –ø–æ—Ä–∞–∂–µ–Ω–∏–µ –±—ã–ª–æ –Ω–µ–∏–∑–±–µ–∂–Ω–æ.",a.Default,100),o("–¢—ã –¥—É–º–∞–ª, —á—Ç–æ —ç—Ç–æ –∏–≥—Ä–∞–µ—à—å —Å–æ –º–Ω–æ–π. –Ø –∏–≥—Ä–∞–ª —Å —Ç–æ–±–æ–π.",a.Sarcasm,100),o("–£—Ä–æ–∫ –æ–∫–æ–Ω—á–µ–Ω. –ü–ª–∞—Ç–∏.",a.Default,100),o("–ó–∞–ø–æ–º–Ω–∏ —ç—Ç–æ —á—É–≤—Å—Ç–≤–æ. –û–Ω–æ –±—É–¥–µ—Ç –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–µ–±—è –¥–æ –∫–æ–Ω—Ü–∞ —Ç–≤–æ–∏—Ö –¥–Ω–µ–π.",a.Default,100),o("–Ø –Ω–µ –≤—ã–∏–≥—Ä—ã–≤–∞—é –±–∏—Ç–≤—ã. –Ø –≤—ã–∏–≥—Ä—ã–≤–∞—é –≤–æ–π–Ω—ã.",a.Default,100),o("–¢—ã –±—ã–ª –ø–µ—à–∫–æ–π. –¢–µ–ø–µ—Ä—å —Ç—ã ‚Äî —Ç—Ä—É–ø –Ω–∞ –¥–æ—Å–∫–µ.",a.Sarcasm,100),o("–°–ª–∞–±–æ—Å—Ç—å –Ω–µ –ø—Ä–æ—â–∞–µ—Ç—Å—è.",a.Default,100)],loose:[o("–ù–µ–ø—Ä–∏–µ–º–ª–µ–º–æ.",a.Default,100),o("–ü–æ—Ä–∞–∂–µ–Ω–∏–µ‚Ä¶ –ª—é–±–æ–ø—ã—Ç–Ω–æ.",a.Default,100),o("–¢—ã –≤—ã–∏–≥—Ä–∞–ª —Å—Ä–∞–∂–µ–Ω–∏–µ. –í–æ–π–Ω—É ‚Äî –Ω–µ—Ç.",a.Sarcasm,100),o("–Ø –∑–∞–ø–æ–º–Ω—é —ç—Ç–æ.",a.Default,100),o("–¢—ã —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ–¥–ø–∏—Å–∞–ª —Å–µ–±–µ –ø—Ä–∏–≥–æ–≤–æ—Ä. –ü—Ä–æ—Å—Ç–æ –µ—â—ë –Ω–µ –∑–Ω–∞–µ—à—å –æ–± —ç—Ç–æ–º.",a.Default,100),o("–¢—ã –¥—É–º–∞–µ—à—å, —ç—Ç–æ –∫–æ–Ω–µ—Ü? –≠—Ç–æ –ª–∏—à—å –ø–æ–≤–æ–¥ —Å—Ç–∞—Ç—å –∂—ë—Å—Ç—á–µ.",a.Sarcasm,100),o("–Ø –ø—Ä–æ–∏–≥—Ä–∞–ª –ø–∞—Ä—Ç–∏—é. –í–æ–π–Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è.",a.Default,100)],draw:[o("–†–∞–≤–Ω–æ–≤–µ—Å–∏–µ. –ü–æ–∫–∞.",a.Default,100),o("–°–µ–≥–æ–¥–Ω—è –Ω–∏–∫—Ç–æ –Ω–µ —É–º–µ—Ä. –ó–∞–≤—Ç—Ä–∞ ‚Äî –ø–æ—Å–º–æ—Ç—Ä–∏–º.",a.Default,100),o("–ù–∏—á—å—è ‚Äî —ç—Ç–æ –≤–µ–∂–ª–∏–≤–æ—Å—Ç—å –ø–µ—Ä–µ–¥ —Ä–µ–∑–Ω—ë–π.",a.Sarcasm,100)],defense:[o("–¢—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥—É–º–∞–µ—à—å, —á—Ç–æ –º–æ–∂–µ—à—å —Ç—Ä–æ–Ω—É—Ç—å –õ–∞–Ω–Ω–∏—Å—Ç–µ—Ä–∞?",a.Sarcasm,100),o("–ú–æ—è –æ–±–æ—Ä–æ–Ω–∞ ‚Äî —ç—Ç–æ —Å—Ç—Ä–∞—Ö, –∫–æ—Ç–æ—Ä—ã–π —Ç—ã –∏—Å–ø—ã—Ç—ã–≤–∞–µ—à—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.",a.Default,100),o("–ö–∞–∂–¥—ã–π, –∫—Ç–æ –ø—ã—Ç–∞–ª—Å—è –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—è, —É–∂–µ –º—ë—Ä—Ç–≤.",a.Default,100),o("–¢—ã –ø—Ä–∏—à—ë–ª —Å –º–µ—á–æ–º. –Ø –ø—Ä–∏—à—ë–ª —Å –∏–º–µ–Ω–µ–º.",a.Sarcasm,100),o("–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–º—É, –∫—Ç–æ –º–æ–∂–µ—Ç –µ–≥–æ —É–¥–µ—Ä–∂–∞—Ç—å. –Ø –º–æ–≥—É.",a.Default,100),o("–¢—ã –Ω–µ –ø—Ä–æ–π–¥—ë—à—å.",a.Default,100)],center:[o("–¢—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥—É–º–∞–µ—à—å, —á—Ç–æ –º–æ–∂–µ—à—å —Ç—Ä–æ–Ω—É—Ç—å –õ–∞–Ω–Ω–∏—Å—Ç–µ—Ä–∞?",a.Sarcasm,100),o("–¶–µ–Ω—Ç—Ä –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–º—É, –∫—Ç–æ –≥–æ—Ç–æ–≤ –∑–∞–ø–ª–∞—Ç–∏—Ç—å –∑–∞ –Ω–µ–≥–æ –∫—Ä–æ–≤—å—é.",a.Default,100),o("–ö—Ç–æ –≤–ª–∞–¥–µ–µ—Ç —Ü–µ–Ω—Ç—Ä–æ–º ‚Äî –≤–ª–∞–¥–µ–µ—Ç –±—É–¥—É—â–∏–º.",a.Default,100),o("–¶–µ–Ω—Ç—Ä –º–æ–π. –ö–∞–∫ –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ.",a.Default,100)],random:[o("–û–±—ä—è—Å–Ω—è—Ç—å —á–µ–ª–æ–≤–µ–∫—É, –ø–æ—á–µ–º—É –æ–Ω —É–º—Ä—ë—Ç, ‚Äî –ø–æ—Ç–µ—Ä—è –≤—Ä–µ–º–µ–Ω–∏.",a.Default,100),o("–¢—ã ‚Äî –Ω–µ –∏–≥—Ä–æ–∫. –¢—ã ‚Äî —Ñ–∏–≥—É—Ä–∞.",a.Sarcasm,100),o("–Ø –Ω–µ —É–≥—Ä–æ–∂–∞—é. –Ø –∫–æ–Ω—Å—Ç–∞—Ç–∏—Ä—É—é.",a.Default,100),o("–¢–≤–æ—è –∂–∏–∑–Ω—å ‚Äî —ç—Ç–æ –¥–æ–ª–≥. –¢—ã –º–Ω–µ –∑–∞–¥–æ–ª–∂–∞–ª.",a.Default,100),o("–õ–∞–Ω–Ω–∏—Å—Ç–µ—Ä—ã –Ω–µ –ø—Ä–æ—Å—è—Ç. –õ–∞–Ω–Ω–∏—Å—Ç–µ—Ä—ã –±–µ—Ä—É—Ç.",a.Default,100)],fork:[o("–í—ã–±–∏—Ä–∞–π. –õ—é–±–æ–π –≤—ã–±–æ—Ä ‚Äî –æ—à–∏–±–∫–∞.",a.Sarcasm,100),o("–î–≤–∞ –ø—É—Ç–∏. –û–±–∞ –≤–µ–¥—É—Ç –∫ –æ–¥–Ω–æ–º—É ‚Äî –∫ —Ç–≤–æ–µ–º—É –ø–æ—Ä–∞–∂–µ–Ω–∏—é.",a.Default,100),o("–¢—ã –¥—É–º–∞–µ—à—å, —É —Ç–µ–±—è –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã? –ö–∞–∫ –≥–ª—É–ø–æ.",a.Sarcasm,100),o("–Ø —É–∂–µ –ø—Ä–æ—Å—á–∏—Ç–∞–ª –æ–±–∞ –∏—Å—Ö–æ–¥–∞. –í –æ–±–æ–∏—Ö —Ç—ã –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—à—å.",a.Default,100)],emojiPresets:{aiWin:["ü¶Å","üëë","üè∞","üí∞","‚öîÔ∏è","‚ù§Ô∏è","ü™ô","üèÜ","‚öúÔ∏è","üó°Ô∏è"],aiLoose:["üò°","üíî","üìâ","‚ö∞Ô∏è","üöΩ","ü§°","üóëÔ∏è","üò§","üî•","üèπ"]}},Nt={get hannibal(){return Et},get heizenberg(){return At},get postaldude(){return Mt},get tylerdurden(){return xt},get tywinlanister(){return Dt}};function fe(s){return s*1e3}const kt=Object.freeze({response:{delay:{min:fe(.5),max:fe(1)}},nicknames:["postaldude","heizenberg","hannibal","tylerdurden","tywinlanister"],meta:{postaldude:{fullName:"–ß—É–≤–∞–∫ –∏–∑ Postal",description:"–ü–æ–¥–ø–∏—à–∏ —á—ë—Ä—Ç–æ–≤—É –ø–µ—Ç–∏—Ü–∏—é",adult:!0,color:"text-red-500"},heizenberg:{fullName:"–•–∞–π–∑–µ–Ω–±–µ—Ä–≥",description:"–Ø –Ω–µ –≤ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –Ø –∏ –µ—Å—Ç—å –æ–ø–∞—Å–Ω–æ—Å—Ç—å.",adult:!1,color:"text-cyan-500"},hannibal:{fullName:"–î–æ–∫—Ç–æ—Ä –ì–∞–Ω–Ω–∏–±–∞–ª –õ–µ–∫—Ç–µ—Ä",description:"–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∞–ø–ø–µ—Ç–∏—Ç–∞",adult:!1,color:"text-amber-500"},tylerdurden:{fullName:"–¢–∞–π–ª–µ—Ä –î—ë—Ä–¥–µ–Ω",description:"–£–¥–∞—Ä—å –º–µ–Ω—è",adult:!0,color:"text-red-500"},tywinlanister:{fullName:"–¢–∞–π–≤–∏–Ω –õ–∞–Ω–Ω–∏—Å—Ç–µ—Ä",description:"–õ–∞–Ω–Ω–∏—Å—Ç–µ—Ä—ã –≤—Å–µ–≥–¥–∞ –ø–ª–∞—Ç—è—Ç —Å–≤–æ–∏ –¥–æ–ª–≥–∏",adult:!1,color:"text-yellow-400"}},messages:Nt}),Tt={muted:!1,toggle(){this.muted=!this.muted}},Lt=Object.freeze({modal:{lose:{player:{byTimer:"–í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ. –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏"},ai:{byTimer:"–ö—Ç–æ –±—ã –º–æ–≥ –ø–æ–¥—É–º–∞—Ç—å, –≤—Ä–µ–º—è –º–∞—à–∏–Ω—ã –∏—Å—Ç–µ–∫–ª–æ. –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏"}},win:"–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞. –ü–æ–±–µ–¥–∏—Ç–µ–ª—å:",draw:"–ü–æ–±–µ–¥–∏–ª–∞ –¥—Ä—É–∂–±–∞!",giveUp:{onEmptyBoard:"–ü—Ä–æ–ø–∞–¥–∏ –≤—Å—ë –ø—Ä–æ–ø–∞–¥–æ–º, –¥–∞?",default:"–í—ã —Å–¥–∞–ª–∏—Å—å"}}}),c=Object.freeze({timer:{startTime:5e3},player:{cross:{char:"X"},zero:{char:"O"}},theme:{isDark:!1,toggle(){this.isDark=!this.isDark}},text:Lt,audio:Tt,UI:bt,AI:kt,sounds:Ct}),u=Object.freeze({Cross:c.player.cross.char,Zero:c.player.zero.char}),I=Object.freeze({Empty:"",Cross:u.Cross,Zero:u.Zero});class f extends Event{#e;constructor(e,t){super(e),this.#e=e,this.detail=t}get eventName(){return this.#e}}class P extends f{constructor(e){super("board@updated",{board:e})}}class A extends f{constructor(){super("board@reset",null)}}class De extends f{constructor(){super("cell@changed",null)}}class N extends f{constructor(){super("game@start",null)}}class Q extends f{constructor(){super("game@reset",null)}}class M extends f{constructor(e,t){super("game@win",{winner:e,combo:t})}}class V extends f{constructor(){super("game@restart",null)}}class O extends f{constructor(){super("game@draw",null)}}class H extends f{constructor(e=null){super("player@surrend",{message:e})}}class F extends f{constructor(e){super("player@moved",{index:e})}}class ee extends f{constructor(e){super("player@changed",{activePlayerMark:e})}}class G extends f{constructor(){super("ai@moved",null)}}class B extends f{constructor(e,t,i="toast",r){super("ai@speak",{nickname:e,speach:t,className:i,chance:r})}}class ae extends f{constructor(e){super("ai@changed",{nickname:e})}}class Pt{#e;#t;#s;#i;#r;constructor({gameManager:e,dispatcher:t,board:i,view:r,store:n}){this.#i=t,this.#t=e,this.#e=i,this.#s=r,this.#r=n}boot(){this.#o()}handleCellClick(e){if(!this.#t.isAiMove){if(e<0||e>8)throw new Error(`Index must be between 0 and 9. ${e} given`);b(this,F,e),this.#i.dispatch(new F(e))}}#o(){this.#i.subscribe(F,this.cellClickHandler.bind(this)),this.#i.subscribe(P,this.boardUpdatedHandler.bind(this)),this.#i.subscribe(A,this.boardResetHandler.bind(this)),this.#i.subscribe(N,this.onGameStartHandler.bind(this))}onGameStartHandler(){if(this.#r&&this.#a(),this.#t.checkComboMatches()){const t=this.#r.state,i={[u.Cross]:t.score.cross,[u.Zero]:t.score.zero};b(this,A),this.#i.dispatch(new A),this.#t.score.set(i)}}cellClickHandler(e){if(this.#t.isAiMove)return;if(!this.#t.makeMove(e.detail.index).ok){j.error(`${this.#t.constructor.name}.${this.#t.makeMove.name} –≤–µ—Ä–Ω—É–ª false. Payload: `,e.detail);return}this.#a()}#a(){const e=this.#e.serialize();b(this,P,e),this.#i.dispatch(new P(e))}boardUpdatedHandler(e){_(this,P,this.boardUpdatedHandler,e.detail),this.#s.update({board:e.detail.board.cells})}boardResetHandler(){_(this,A,this.boardResetHandler),this.#t.reset(),this.#a()}}class T extends Error{constructor(e){super(e),this.name=this.constructor.name}}class Ft extends T{constructor(){super("–ú–µ—Ç–æ–¥ create –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–µ.")}}class Ot extends T{constructor(e){super(`FactoryRegistry –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ ${e}`)}}class te extends T{constructor(e){super(`${e} —ç—Ç–æ –Ω–µ –ø–æ—Ç–æ–º–æ–∫ –∫–ª–∞—Å—Å–∞ Factory`)}}class pe extends T{constructor(e){super(`–§–∞–±—Ä–∏–∫–∞ ${e} —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ FactoryRegistry`)}}class D{create(){throw new Ft}}class x extends D{#e;#t;#s;constructor(e,t,i){super(),this.#e=e,this.#t=t,this.#s=i}get gameManager(){return this.#e}get dispatcher(){return this.#t}get store(){return this.#s}}class k extends D{#e;constructor(e){super(),this.#e=e}get domElement(){return this.#e}}class Ne extends x{create(e,t){return new Pt({gameManager:this.gameManager,dispatcher:this.dispatcher,board:e,view:t,store:this.store})}}class Rt{#e;#t;#s;#i;constructor({view:e,dispatcher:t,gameManager:i,store:r}){this.#e=e,this.#t=t,this.#s=i,this.#i=r}boot(){this.#r()}#r(){this.#t.subscribe(M,this.onGameWinHandler.bind(this)),this.#t.subscribe(De,this.onCellChanged.bind(this))}onGameWinHandler(){const e=c.AI.messages[this.#i.state.aiName].emojiPresets.aiWin,t=c.AI.messages[this.#i.state.aiName].emojiPresets.aiLoose,i={emojis:this.#s.isAiMove?e:t},r=this.#s.isAiMove?c.sounds.loose:c.sounds.win;_(this,M,this.onGameWinHandler),this.#e.showWinScreen({confetti:i,audioUrl:r})}onCellChanged(){this.#e.playSound(c.sounds.cellClick)}}class ke extends x{create(e){return new Rt({dispatcher:this.dispatcher,gameManager:this.gameManager,view:e,store:this.store})}}class W extends f{constructor(){super("timer@player_timeout",null)}}class $ extends f{constructor(){super("timer@ai_timeout",null)}}class zt{#e;#t;#s;constructor({gameManager:e,view:t,dispatcher:i}){this.#e=t,this.#s=i,this.#t=e}boot(){this.#i()}#i(){this.#s.subscribe(M,this.onWinHandler.bind(this)),this.#s.subscribe(O,this.onDrawHandler.bind(this)),this.#s.subscribe(Q,this.onResetHandler.bind(this)),this.#s.subscribe(H,this.onSurrendHandler.bind(this)),this.#s.subscribe(W,this.onPlayerTimeoutHandler.bind(this)),this.#s.subscribe($,this.onAITimeoutHandler.bind(this))}onPlayerTimeoutHandler(){_(this,W,this.onPlayerTimeoutHandler),this.#r(c.text.modal.lose.player.byTimer,this.#t.board.serialize().cells,null)}onAITimeoutHandler(){_(this,$,this.onAITimeoutHandler),this.#r(c.text.modal.lose.ai.byTimer,this.#t.board.serialize().cells,null)}handleModalClose(){b(this,A),this.#s.dispatch(new A)}#r(e,t,i){this.#e.update({message:e,board:t,winCombo:i})}onWinHandler(e){_(this,M,this.onWinHandler,e.details),this.#r(`${c.text.modal.win} ${e.detail.winner}`,this.#t.board.serialize().cells,e.detail.combo)}onSurrendHandler(e){_(this,H,this.onSurrendHandler,e.details),this.#r(e.detail.message,this.#t.board.serialize().cells)}onDrawHandler(){_(this,O,this.onDrawHandler),this.#r(c.text.modal.draw,this.#t.board.serialize().cells,null)}onResetHandler(){_(this,A,this.onResetHandler),this.#t.reset(),b(this,A),this.#s.dispatch(new A)}}class Te extends x{create(e){return new zt({gameManager:this.gameManager,dispatcher:this.dispatcher,view:e,store:this.store})}}class S extends f{constructor(e){const t={cross:e.cross,zero:e.zero};super("score@changed",t)}}class jt{#e;#t;#s;#i;constructor({gameManager:e,view:t,dispatcher:i,store:r}){this.#t=e,this.#s=i,this.#e=t,this.#i=r}boot(){this.#r()}#r(){this.#s.subscribe(S,this.updateScoreValues.bind(this)),this.#s.subscribe(F,this.updateWhoseMove.bind(this)),this.#s.subscribe(G,this.updateWhoseMove.bind(this)),this.#s.subscribe(A,this.updateWhoseMove.bind(this)),this.#s.subscribe(H,this.updateScoreValues.bind(this)),this.#s.subscribe(N,this.onGameStartHandler.bind(this))}onGameStartHandler(){this.#i.state.score!==null&&this.#i.state.score!==void 0&&this.#i.state.player!==void 0&&this.#e.update({activePlayerMark:this.#i.state.player.activePlayerMark,cross:this.#i.state.score.cross,zero:this.#i.state.score.zero})}updateWhoseMove(e){_(this,e.constructor,this.updateWhoseMove,e.detail),this.#e.update({activePlayerMark:this.#t.whoseMove})}updateScoreValues(e){_(this,S,this.updateScoreValues,e.detail),this.#e.update({activePlayerMark:this.#t.whoseMove,cross:e.detail.cross,zero:e.detail.zero})}}class Le extends x{create(e){return new jt({gameManager:this.gameManager,dispatcher:this.dispatcher,view:e,store:this.store})}}class Ht{#e;#t=null;#s;constructor({boardDOM:e,onCellClick:t}){this.#s=e,this.#e=this.#s.cells,this.#t=t,this.#e.forEach((i,r)=>{i.dataset.index=r}),this.#i()}setOnCellClick(e){this.#t=e}update({board:e}){this.#e.forEach((t,i)=>{t.innerText=e[i],t.disabled=e[i]!==I.Empty})}#i(){this.#s.root.addEventListener("click",t=>{const i=t.target.closest(".cell");if(!i)return;const r=Number(i.dataset.index);b(this,{name:"CellClick"},{index:r}),this.#t?.(r)})}}class Pe extends k{create(e=null){return new Ht({boardDOM:this.domElement,onCellClick:e})}}function ne(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(s,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,Gt(i.key),i)}}function ce(s,e,t){return e&&Bt(s.prototype,e),Object.defineProperty(s,"prototype",{writable:!1}),s}function Ut(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var i=t.call(s,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function Gt(s){var e=Ut(s,"string");return typeof e=="symbol"?e:e+""}function ge(s){return+s.replace(/px/,"")}function Wt(s){var e=window.devicePixelRatio,t=getComputedStyle(s),i=ge(t.getPropertyValue("width")),r=ge(t.getPropertyValue("height"));s.setAttribute("width",(i*e).toString()),s.setAttribute("height",(r*e).toString())}function E(s,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=Math.random()*(e-s)+s;return Math.floor(i*Math.pow(10,t))/Math.pow(10,t)}function be(s){return s[E(0,s.length)]}var $t=.00125,Vt=5e-4,qt=9e-4,Zt=1e-5,Xt=6,Jt=80,Yt=.9,Kt=1.7,Qt=.2,es=.6,ts=.03,ss=.07,Fe=15,Oe=82,ye=150,is=100,rs=250,os=40,as=["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"];function ve(s){var e=1920;return Math.log(s)/Math.log(e)}var Y=(function(){function s(e){ne(this,s);var t=e.initialPosition,i=e.confettiRadius,r=e.confettiColors,n=e.emojis,l=e.emojiSize,h=e.canvasWidth,d=e.initialFlightAngle,m=e.rotationAngle,p=e.shouldHideConfettiInShiftedPosition,g=p===void 0?!1:p,w=E(Yt,Kt,3),L=w*ve(h);this.confettiSpeed={x:L,y:L},this.finalConfettiSpeedX=E(Qt,es,3),this.rotationSpeed=n.length?.01:E(ts,ss,3)*ve(h),this.dragForceCoefficient=E(Vt,qt,6),this.radius={x:i,y:i},this.initialRadius=i,this.rotationAngle=m,this.emojiSize=l,this.emojiRotationAngle=E(0,2*Math.PI),this.radiusYUpdateDirection="down",this.cos=Math.cos(d),this.sin=Math.sin(d);var R=E(-150,0);this.positionOffset={x:R*this.sin,y:R*this.cos},this.distanceTravelled={x:0,y:0};var z={x:t.x+this.positionOffset.x,y:t.y-this.positionOffset.y};this.currentPosition=Object.assign({},z),this.initialPosition=Object.assign({},z),this.color=n.length?null:be(r),this.emoji=n.length?be(n):null,this.createdAt=new Date().getTime(),this.isVisible=!g}return ce(s,[{key:"draw",value:function(t){var i=this.currentPosition,r=this.radius,n=this.color,l=this.emoji,h=this.rotationAngle,d=this.emojiRotationAngle,m=this.emojiSize,p=this.isVisible;if(p){var g=window.devicePixelRatio;n?(t.fillStyle=n,t.beginPath(),t.ellipse(i.x*g,i.y*g,r.x*g,r.y*g,h,0,2*Math.PI),t.fill()):l&&(t.font="".concat(m,"px serif"),t.save(),t.translate(g*i.x,g*i.y),t.rotate(d),t.textAlign="center",t.fillText(l,0,0),t.restore())}}},{key:"updatePosition",value:function(t,i){var r=this.confettiSpeed,n=this.dragForceCoefficient,l=this.finalConfettiSpeedX,h=this.radiusYUpdateDirection,d=this.rotationSpeed,m=this.createdAt;r.x>l&&(this.confettiSpeed.x-=n*t);var p=this.currentPosition.y,g=i-m;this.currentPosition.y=this.initialPosition.y-r.y*this.cos*g+$t*Math.pow(g,2)/2;var w={x:r.x*this.sin*t,y:this.currentPosition.y-p};if(this.currentPosition.x+=w.x,this.distanceTravelled.x+=Math.abs(w.x),this.distanceTravelled.y+=Math.abs(w.y),this.distanceTravelled.x>=Math.abs(this.positionOffset.x)&&this.distanceTravelled.y>=Math.abs(this.positionOffset.y)&&(this.isVisible=!0),this.rotationSpeed-=this.emoji?1e-4:Zt*t,this.rotationSpeed<0&&(this.rotationSpeed=0),this.emoji){this.emojiRotationAngle+=this.rotationSpeed*t%(2*Math.PI);return}h==="down"?(this.radius.y-=t*d,this.radius.y<=0&&(this.radius.y=0,this.radiusYUpdateDirection="up")):(this.radius.y+=t*d,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYUpdateDirection="down"))}},{key:"getIsVisibleOnCanvas",value:function(t){return this.currentPosition.y<t+is}}])})();function ns(){var s=document.createElement("canvas");return s.style.position="fixed",s.style.width="100%",s.style.height="100%",s.style.top="0",s.style.left="0",s.style.zIndex="1000",s.style.pointerEvents="none",document.body.appendChild(s),s}function we(s){var e=s.confettiRadius,t=e===void 0?Xt:e,i=s.confettiNumber,r=i===void 0?s.confettiesNumber||(s.emojis?os:rs):i,n=s.confettiColors,l=n===void 0?as:n,h=s.emojis,d=h===void 0?s.emojies||[]:h,m=s.emojiSize,p=m===void 0?Jt:m,g=s.confettiDispatchPosition,w=g===void 0?null:g;return s.emojies&&console.error("emojies argument is deprecated, please use emojis instead"),s.confettiesNumber&&console.error("confettiesNumber argument is deprecated, please use confettiNumber instead"),{confettiRadius:t,confettiNumber:r,confettiColors:l,emojis:d,emojiSize:p,confettiDispatchPosition:w}}function le(s){return s*Math.PI/180}function cs(){return le(E(Oe,Fe))}function ls(){return le(E(-Fe,-Oe))}function hs(){return le(E(-ye,ye))}function Ce(){return E(0,.2,3)}function ds(){return E(-.2,0,3)}var Se=(function(){function s(e){var t=this;ne(this,s),this.canvasContext=e,this.shapes=[],this.promise=new Promise(function(i){return t.resolvePromise=i})}return ce(s,[{key:"getBatchCompletePromise",value:function(){return this.promise}},{key:"addShapes",value:function(){var t;(t=this.shapes).push.apply(t,arguments)}},{key:"complete",value:function(){var t;return this.shapes.length?!1:((t=this.resolvePromise)===null||t===void 0||t.call(this),!0)}},{key:"processShapes",value:function(t,i,r){var n=this,l=t.timeDelta,h=t.currentTime;this.shapes=this.shapes.filter(function(d){return d.updatePosition(l,h),d.draw(n.canvasContext),r?d.getIsVisibleOnCanvas(i):!0})}}])})(),us=(function(){function s(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ne(this,s),this.activeConfettiBatches=[],this.canvas=e.canvas||ns(),this.canvasContext=this.canvas.getContext("2d"),this.requestAnimationFrameRequested=!1,this.lastUpdated=new Date().getTime(),this.iterationIndex=0,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}return ce(s,[{key:"loop",value:function(){this.requestAnimationFrameRequested=!1,Wt(this.canvas);var t=new Date().getTime(),i=t-this.lastUpdated,r=this.canvas.offsetHeight,n=this.iterationIndex%10===0;this.activeConfettiBatches=this.activeConfettiBatches.filter(function(l){return l.processShapes({timeDelta:i,currentTime:t},r,n),n?!l.complete():!0}),this.iterationIndex++,this.queueAnimationFrameIfNeeded(t)}},{key:"queueAnimationFrameIfNeeded",value:function(t){this.requestAnimationFrameRequested||this.activeConfettiBatches.length<1||(this.requestAnimationFrameRequested=!0,this.lastUpdated=t||new Date().getTime(),requestAnimationFrame(this.loop))}},{key:"addConfettiAtPosition",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=we(t),r=i.confettiRadius,n=i.confettiNumber,l=i.confettiColors,h=i.emojis,d=i.emojiSize,m=i.confettiDispatchPosition,p=this.canvas.getBoundingClientRect(),g=p.width,w=new Se(this.canvasContext),L=0;L<n;L++){var R=new Y({initialPosition:m,confettiRadius:r,confettiColors:l,confettiNumber:n,emojis:h,emojiSize:d,canvasWidth:g,rotationAngle:Ce(),initialFlightAngle:hs(),shouldHideConfettiInShiftedPosition:!0});w.addShapes(R)}return this.activeConfettiBatches.push(w),this.queueAnimationFrameIfNeeded(),w.getBatchCompletePromise()}},{key:"addConfetti",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=we(t),r=i.confettiRadius,n=i.confettiNumber,l=i.confettiColors,h=i.emojis,d=i.emojiSize,m=this.canvas.getBoundingClientRect(),p=m.width,g=m.height,w=g*5/7,L={x:0,y:w},R={x:p,y:w},z=new Se(this.canvasContext),he=0;he<n/2;he++){var et=new Y({initialPosition:L,confettiRadius:r,confettiColors:l,confettiNumber:n,emojis:h,emojiSize:d,canvasWidth:p,rotationAngle:Ce(),initialFlightAngle:cs()}),tt=new Y({initialPosition:R,confettiRadius:r,confettiColors:l,confettiNumber:n,emojis:h,emojiSize:d,canvasWidth:p,rotationAngle:ds(),initialFlightAngle:ls()});z.addShapes(tt,et)}return this.activeConfettiBatches.push(z),this.queueAnimationFrameIfNeeded(),z.getBatchCompletePromise()}},{key:"clearCanvas",value:function(){this.activeConfettiBatches=[]}},{key:"destroyCanvas",value:function(){this.canvas.remove()}}])})();class ms{#e;#t;constructor({audio:e}){this.#e=new Audio(e),this.#t=new us}showWinScreen({confetti:e,audioUrl:t}){this.#t.addConfetti(e),this.playSound(t)}playSound(e){this.#e=new Audio(e),c.audio.muted&&(this.#e.muted=!0),this.#e.play()}}class Re extends k{create(e){return new ms({audio:e})}}class fs{#e;#t;#s;constructor({elements:e,onClose:t}){this.#s=e,this.#e=t,this.#t=this.#s.board.querySelectorAll(".cell"),this.#i()}update({message:e,board:t,winCombo:i}){this.#s.title.innerText=e,this.#t.forEach((r,n)=>{let l="cell";i?.includes(n)&&(l+=" cell-win"),r.className=l,r.innerText=t[n]}),this.#s.body.classList.remove("hidden")}#i(){const e=()=>{b(this,e),this.#s.body.classList.add("hidden"),this.#e?.()};this.#s.button.onclick=e}setOnClose(e){this.#e=e}}class ze extends k{create(e=null){return new fs({elements:this.domElement,onClose:e})}}class ps{#e;#t;#s;#i;constructor({crossEl:e,zeroEl:t}){this.#e=e,this.#t=t,this.#s=c.UI.score.crossLabel,this.#i=c.UI.score.zeroLabel}update({activePlayerMark:e=u.Cross,cross:t=void 0,zero:i=void 0}){this.#r(e),t!==void 0&&i!==void 0&&this.#o(t,i)}#r(e){const t=e===u.Cross,i=t?this.#e:this.#t,r=t?this.#t:this.#e;i.classList.add("active-score-item"),i.classList.remove("inactive-score-item"),r.classList.add("inactive-score-item"),r.classList.remove("active-score-item")}#o(e,t){this.#s.innerText=e,this.#i.innerText=t}}class je extends k{create(){const{crossEl:e,zeroEl:t}=this.domElement;return new ps({crossEl:e,zeroEl:t})}}class gs{#e;#t;constructor(e,t=Array(9).fill(I.Empty)){this.#t=e,this.#e=t}get cells(){return[...this.#e]}get freeCells(){return[...this.#e].map((e,t)=>e===I.Empty?t:-1).filter(e=>e!==-1)}get busyCells(){return[...this.#e].map((e,t)=>e!==I.Empty?t:-1).filter(e=>e!==-1)}movesOf(e){return this.#e.map((t,i)=>t===e?i:-1).filter(t=>t!==-1)}setCell(e,t){this.#e[t]=e,this.#t.dispatch(new De)}cellIs(e,t){return this.#e[t]===e}reset(){this.#e.fill(I.Empty)}serialize(){return{cells:this.#e}}}class se extends D{create(e,t){return new gs(e,t)}}class bs extends T{constructor(){super("–í –ø–æ—Ç–æ–º–∫–µ Pipe –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ execute")}}class U{constructor(e){this._data=e}execute(){throw new bs}get data(){return this._data}}class ys{#e;#t={};constructor(e){this.#e=e,this.#e.forEach(t=>{if(!(t.prototype instanceof U))throw new Error(`${t} –Ω–µ –ø–æ—Ç–æ–º–æ–∫ Pipe`)})}run(e){let t={start:e,result:null,meta:this.#t};for(const i of this.#e){const r=new i(t);if(r.execute(),t=r.data,t.result)break}return t.result}passThrough(e){return this.#t={...this.#t,...e},this}}class q{#e;#t;#s;#i;#r=u.Cross;#o=!1;#a=null;static combos=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];constructor(e,t,i,r){this.#e=e,this.#s=i,this.#t=t,this.#e.subscribe(N,this.onGameStartHandler.bind(this)),this.#i=r}onGameStartHandler(){this.#i.state.player!==null&&this.#i.state.player!==void 0&&(this.#r=this.#i.state.player.activePlayerMark)}get winnerCombo(){return this.#a}get whoseMove(){return this.#r}get board(){return this.#t}get score(){return this.#s}get isGameEnded(){return this.#o}get isAiMove(){return this.whoseMove===u.Zero}surrend(){this.#s.loose(u.Cross)}makeMove(e){if(e<0||e>8)return me("INDEX_OUT_OF_RANGE","–ò–Ω–¥–µ–∫—Å –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞");if(!this.#t.cellIs(I.Empty,e))return me("CELL_OCCUPIED","–ö–ª–µ—Ç–∫–∞ —É–∂–µ –∑–∞–Ω—è—Ç–∞");const t=this.#r;return this.#t.setCell(t,e),this.checkWinner(),this.#n(),St(t)}checkComboMatches(){return q.combos.find(([e,t,i])=>{const r=this.#t.cells[e];return r!==I.Empty&&r===this.#t.cells[t]&&r===this.#t.cells[i]})}checkWinner(){const e=this.checkComboMatches();if(e){const t=this.#t.cells[e[0]];return this.#a=e[0],this.#s.win(t),b(this,M,{winner:t,winnerCombo:e}),this.#e.dispatch(new M(t,e)),this.#o=!0,!0}return this.#t.cells.every(t=>t!==I.Empty)?(b(this,O),this.#e.dispatch(new O),this.#o=!0,!0):!1}increaseScore(e){this.#s.win(e)}#n(){this.#r=this.#r===u.Cross?u.Zero:u.Cross,b(this,ee,this.#r),this.#e.dispatch(new ee(this.#r))}reset(){this.#t.reset(),this.#o=!1,this.#r=u.Cross}}class vs extends U{execute(){let e=null;for(const t of this._data.meta._combos){if(t.filter(n=>this._data.meta._crossIndexes.includes(n)).length!==2)continue;const r=t.find(n=>this._data.meta._freeIndexes.includes(n));if(r!==void 0){e={index:r,message:v(c.AI.messages[this._data.meta._aiName].defense)};break}}e&&(this._data.result=e)}}class ws extends U{execute(){let e;this._data.meta._freeIndexes.includes(4)?e={index:4,message:v(c.AI.messages[this._data.meta._aiName].center)}:e={index:v(this._data.meta._freeIndexes),message:v(c.AI.messages[this._data.meta._aiName].random)},this._data.result=e}}class Cs extends U{#e(e){return{1:7,7:1,3:5,5:3}[e]??void 0}execute(){const e=this._data.meta._freeIndexes.some(n=>[1,3,5,7].includes(n));let t=null;const i=this._data.meta._zeroIndexes,r=[0,2,6,8].filter(n=>this._data.meta._freeIndexes.includes(n));if(i.includes(4)&&r.length)t={index:v(r),message:v(c.AI.messages[this._data.meta._aiName].fork)};else if(i.some(n=>[1,3,5,7].includes(n))&&e){const l=i.filter(h=>[1,3,5,7].includes(h)).filter(h=>this.#e(h)!==void 0&&i.includes(this.#e(h)));if(l.length){const h=v(l);t={index:this.#e(h),message:v(c.AI.messages[this._data.meta._aiName].fork)}}}t!==null&&(this._data.result=t)}}class Ss extends U{execute(){let e=null;for(const t of this._data.meta._combos){const[i,r,n]=t,l=[this._data.start[i],this._data.start[r],this._data.start[n]];if(l.includes(I.Cross))continue;const h=l.map((d,m)=>d===I.Empty?m:-1).filter(d=>d!==-1);if(h.length===1){e={index:t[h[0]],message:v(c.AI.messages[this._data.meta._aiName].win)};break}}e&&(this._data.result=e)}}class Is{#e;#t;#s;constructor(e,t,i,r){this.#e=e,this.#t=t,this.#s=r}boot(){this.#i()}#i(){this.#t.subscribe(F,this.handleMove.bind(this)),this.#t.subscribe(M,this.gameWinHandler.bind(this)),this.#t.subscribe(O,this.gameDrawHandler.bind(this)),this.#t.subscribe(N,this.onGameStartHandler.bind(this))}onGameStartHandler(){this.#e.isAiMove&&(this.#t.dispatch(new F(null)),this.handleMove());const e=this.#s.state;(e.aiName===void 0||e.aiName===null)&&this.setNewName()}setNewName(){const e=this.#s.state,t=v(c.AI.nicknames);e.aiName=t,this.#s.set(e)}handleMove(){if(!this.#e.isAiMove||this.#e.isGameEnded)return;const t=new ys([Ss,vs,Cs,ws]).passThrough({_mark:u.Zero,_aiName:this.#s.state.aiName,_combos:q.combos,_isEmpty:this.#e.board.cells.every(r=>r===I.Empty),_freeIndexes:this.#e.board.freeCells,_busyIndexes:this.#e.board.busyCells,_crossIndexes:this.#e.board.movesOf(u.Cross),_zeroIndexes:this.#e.board.movesOf(u.Zero)}).run(this.#e.board.cells),i=It(c.AI.response.delay.min,c.AI.response.delay.max);setTimeout(()=>{this.#e.makeMove(t.index),this.#e.isAiMove||this.#r(t.message),b(this,G,t.index),this.#t.dispatch(new G),b(this,P,this.#e.board.serialize()),this.#t.dispatch(new P(this.#e.board.serialize()))},i)}gameWinHandler(e){if(e.detail.winner!==u)return;const t=v(c.AI.messages[this.#s.state.aiName].loose);t.chance=100,this.#r(t)}gameDrawHandler(){const e=v(c.AI.messages[this.#s.state.aiName].draw);e.chance=100,this.#r(e)}#r(e){if(!_t(e.chance))return;const t=this.#s.state.aiName,{message:i,className:r,chance:n}=e;b(this,B,{nickname:t,message:i,className:r,chance:n}),this.#t.dispatch(new B(t,i,r,n))}}class He extends x{create(e){return new Is(this.gameManager,this.dispatcher,e,this.store)}}class _s{#e;#t;#s;#i;constructor(e,t,i,r){this.#s=t,this.#e=e,this.#t=i,this.#i=r}boot(){this.#r()}#r(){this.#s.subscribe(N,this.fillChat.bind(this)),this.#s.subscribe(M,this.onGameWinHandler.bind(this)),this.#s.subscribe(B,this.appendMessage.bind(this)),this.#s.subscribe(V,this.resetChat.bind(this)),this.#s.subscribe(ae,this.onAIChanged.bind(this))}resetChat(){this.#t.renderChat([])}onAIChanged(e){this.#t.createSeparator(e.detail.nickname)}onGameWinHandler(){if(!this.#e.isAiMove){const e=v(c.AI.messages[this.#i.state.aiName].loose);this.#s.dispatch(new B(this.#i.state.aiName,e.message,e.className,e.chance))}}fillChat(){this.#i.state.chat!==null&&this.#i.state.chat!==void 0&&this.#t.renderChat(this.#i.state.chat)}appendMessage(e){const t={};e.detail.speach&&(t.message=e.detail.speach),e.detail.message&&(t.message=e.detail.message),t.className=e.detail.className,t.chance=e.detail.chance,t.nickname=e.detail.nickname,this.#t.appendMessage(t)}}class Be extends x{create(e){return new _s(this.gameManager,this.dispatcher,e,this.store)}}class Es{#e;#t;constructor(e,t,i){this.#e=t,this.#t=i}boot(){this.#s(),this.#t.setCardClickHandler(e=>{this.chooseAI(e)})}#s(){}chooseAI(e){this.#e.dispatch(new ae(e))}}class Ue extends x{create(e){return new Es(this.gameManager,this.dispatcher,e,this.store)}}class Ge extends f{constructor(e){super("soundstate@changed",{muted:e})}}class We extends f{constructor(e){super("theme@changed",{theme:e})}}class As{#e;#t;#s;#i;constructor(e,t,i,r){this.#s=e,this.#e=t,this.#t=i,this.#i=r}boot(){this.#r()}#r(){this.#e.subscribe(N,this.onGameStartHandler.bind(this))}onGameStartHandler(){let e;const t=this.#i.state.theme;t!=null?e=t.scheme:e=c.theme.isDark?"dark":"light";const i=e==="dark"?"dark":"light",r=e==="dark"?"light":"dark";if(this.#t.setAppTheme({documentElement:c.UI.mount,toAdd:i,toRemove:r,isDark:i!=="dark"}),this.#i.state.sound.muted){const n=this.#i.state.sound.muted;this.#t.changeVolumeIconFrom({isMuted:n}),c.audio.muted=n}}onRestartGameHandler(){_(this,Q),this.#e.dispatch(new Q),this.#e.dispatch(new V)}onToggleVolumeHandler(){c.audio.toggle(),this.#e.dispatch(new Ge(c.audio.muted)),this.#t.changeVolumeIconFrom({isMuted:c.audio.muted})}onSwitchColorThemeHandler(){const e=c.UI.mount.classList.contains("dark")?"light":"dark",t=e==="dark"?"light":"dark";this.#e.dispatch(new We(e)),this.#t.setAppTheme({documentElement:c.UI.mount,toAdd:e,toRemove:t,isDark:e!=="dark"})}onOpenAIChooseHandler(){this.#t.openAIChooseModal()}onGiveUpHandler(){this.#s.board.serialize().cells.every(e=>e===I.Empty)?this.#e.dispatch(new H(c.text.modal.giveUp.onEmptyBoard)):this.#e.dispatch(new H(c.text.modal.giveUp.default)),this.#s.surrend(u.Cross)}}class $e extends x{create(e,t,i){return new As(e,t,i,this.store)}}class Ms{#e;#t;#s;#i=5e3;#r=5e3;#o=!1;constructor(e,t,i){this.#e=e,this.#t=t,this.#s=i}boot(){this.#a()}#a(){this.#t.subscribe(F,this.onPlayerMoveHandler.bind(this)),this.#t.subscribe(G,this.onPlayerMoveHandler.bind(this)),this.#t.subscribe(M,this.stopAll.bind(this)),this.#t.subscribe(O,this.stopAll.bind(this)),this.#t.subscribe(A,this.reset.bind(this)),this.#s.setOnTimerEnd(()=>{})}stopAll(){this.#o=!0,this.#s.clear(),this.#i=5e3,this.#r=5e3}onPlayerMoveHandler(){if(this.#o)return;this.#s.clear();const e=this.#e.whoseMove===u.Cross,t=e?this.#i:this.#r,i=e?"player":"ai";this.#s.start(i,t,r=>{e?this.#i=r:this.#r=r},()=>{const r=e?new W:new $;this.#t.dispatch(r)})}reset(){this.#o=!1,this.#i=5e3,this.#r=5e3,this.#s.clear()}}class Ve extends x{create(e){return new Ms(this.gameManager,this.dispatcher,e,this.store)}}class Ie extends T{constructor(e){super("–û–∂–∏–¥–∞–ª–æ—Å—å —Å–æ–±—ã—Ç–∏–µ —Ç–∏–ø–∞ GameEvent. –ü–æ–ª—É—á–µ–Ω–æ: "+e)}}class xs extends T{constructor(e){super(`–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏—è ${e}`)}}class Ds{#e=new Map;dispatch(e){if(typeof e!="object"||!(e instanceof f))throw new Ie(e);const t=e.constructor;if(!this.#e.has(t))throw new xs(t);const i=this.#e.get(t);for(const r of i)r(e)}subscribe(e,t){if(!(e.prototype instanceof f))throw new Ie(e);this.#e.has(e)||this.#e.set(e,new Set),this.#e.get(e).add(t)}unsubscribe(e){this.#e.delete(e)}}class ie extends D{create(){return new Ds}}class re extends D{create(e,t,i,r){return new q(e,t,i,r)}}class Ns extends T{constructor(e){super(`${e} is not player`)}}class ks{#e={[u.Cross]:0,[u.Zero]:0};#t;#s;constructor(e,t){this.#t=e,this.#s=t,this.#t.subscribe(N,this.onGameStartHandler.bind(this)),this.#t.subscribe(V,this.reset.bind(this)),this.#t.subscribe(W,this.onPlayerLoose.bind(this)),this.#t.subscribe($,this.onPlayerWin.bind(this))}onPlayerLoose(){this.loose(u.Cross)}onPlayerWin(){this.win(u.Cross)}onGameStartHandler(){if(this.#s.state.score!==null&&this.#s.state.score!==void 0){this.#e[u.Cross]=this.#s.state.score.cross,this.#e[u.Zero]=this.#s.state.score.zero;const e={cross:this.cross,zero:this.zero};b(this,S,e),this.#t.dispatch(new S(e))}}set(e){this.#e=e;const t={cross:this.cross,zero:this.zero};b(this,S,t),this.#t.dispatch(new S(t))}win(e){if(!(e===u.Cross||e===u.Zero))throw new Ns(e);this.#e[e]+=1;const i={cross:this.cross,zero:this.zero};b(this,S,i),this.#t.dispatch(new S(i))}loose(e){if(this.#e[e]>0){this.#e[e]-=1;const t={cross:this.cross,zero:this.zero};b(this,S,t),this.#t.dispatch(new S(t))}}reset(){this.#e={[u.Cross]:0,[u.Zero]:0};const e={cross:this.cross,zero:this.zero};b(this,S,e),this.#t.dispatch(new S(e))}get cross(){return this.#e[u.Cross]}get zero(){return this.#e[u.Zero]}serialize(){const e={cross:this.#e[u.Cross],zero:this.#e[u.Zero]};return JSON.parse(JSON.stringify(e))}}class oe extends D{create(e,t){return new ks(e,t)}}class Ts{#e;constructor(e){this.#e=e}renderChat(e){e.length===0&&(this.#e.innerHTML=""),e.forEach(t=>{this.#t(t)})}createSeparator(e){this.#e.appendChild(c.UI.chat.separator(e))}appendMessage(e){this.#t(e)}#t(e){const t=c.UI.chat.message(e.nickname,e.message,{nick:c.AI.meta[e.nickname].color,msg:e.className});this.#e.appendChild(t)}}class qe extends k{create(e){return new Ts(e)}}class Ls{#e;#t;constructor(e){this.#e=e,this.#s(),this.#i()}setCardClickHandler(e){this.#t=e}#s(){c.AI.nicknames.forEach(e=>{const t=c.UI.chooseModal.getOption(Me[e.toLowerCase()],e.toLowerCase(),c.AI.meta[e].fullName,c.AI.meta[e].description,c.AI.meta[e].color,c.AI.meta[e].adult);this.#e.content.appendChild(t)}),this.#e.content.appendChild(c.UI.chooseModal.emptyOption)}#i(){document.querySelectorAll(".ai-card").forEach(e=>{e.addEventListener("click",t=>{this.#t?.(t.currentTarget.dataset.ai),c.UI.chooseModal.root.classList.toggle("hidden")})})}}class Ze extends k{create(e){return new Ls(e)}}class Ps{#e;#t={restartGameButton:null,toggleVolumeButton:null,switchColorThemeButton:null,giveUpButton:null,openMenuButton:null,openAIChooseButton:null};constructor({controlsDOM:e}){this.#e=e,this.#s()}openAIChooseModal(){c.UI.chooseModal.root.classList.toggle("hidden")}changeVolumeIconFrom({isMuted:e}){const t=this.#e.icons.unmutedIcon,i=this.#e.icons.mutedIcon;e?(t.classList.add("hidden"),i.classList.remove("hidden")):(t.classList.remove("hidden"),i.classList.add("hidden"))}changeThemeIconFrom(e){const t=this.#e.icons.lightTheme,i=this.#e.icons.darkTheme;e?(t.classList.add("hidden"),i.classList.remove("hidden")):(t.classList.remove("hidden"),i.classList.add("hidden"))}setAppTheme({documentElement:e,toAdd:t,toRemove:i,isDark:r}){this.changeThemeIconFrom(r),e.classList.remove(i),e.classList.add(t)}setOnRestartGameButtonClick(e){this.#t.restartGameButton=e}setOnToggleVolumeButtonClick(e){this.#t.toggleVolumeButton=e}setOnSwitchColorThemeButtonClick(e){this.#t.switchColorThemeButton=e}setOnGiveUpButtonClick(e){this.#t.giveUpButton=e}setOnOpenMenuButtonClick(e){this.#t.openMenuButton=e}setOnOpenAIChooseButton(e){this.#t.openAIChooseButton=e}#s(){const e=Object.keys(this.#t);for(const t of e)this.#e[t].addEventListener("click",()=>{this.#t[t]?.()});c.UI.chat.openButton.addEventListener("click",()=>{c.UI.chat.root.classList.remove("-translate-x-full")}),c.UI.chat.closeButton.addEventListener("click",()=>{c.UI.chat.root.classList.add("-translate-x-full")})}}class Xe extends k{create(e){return new Ps({controlsDOM:e})}}class Fs{#e=null;#t=0;setOnTimerEnd(e){this._onTimerEnd=e}clear(){this.#e!==null&&(clearInterval(this.#e),this.#e=null),this.#t=0}start(e,t,i,r){this.clear(),this.#t=Math.max(0,t),this.update(this.#t,e),this.#e=setInterval(()=>{this.#t-=20,this.#t<0&&(this.#t=0),this.update(this.#t,e),i?.(this.#t),this.#t===0&&(this.clear(),r?.(),this._onTimerEnd?.(e))},20)}update(e,t){c.UI.timer.display.innerText=(e/1e3).toFixed(2);const i=c.UI.timer.root;t==="player"?(i.classList.add("player-active"),i.classList.remove("ai-active")):t==="ai"?(i.classList.add("ai-active"),i.classList.remove("player-active")):i.classList.remove("player-active","ai-active")}}class Je extends k{create(){return new Fs(this.domElement)}}class Os{#e;#t;constructor({dispatcher:e}){this.#e=e,this.#t=this.loadFromLocalStorage()||{board:Array(9).fill(I.Empty),theme:{scheme:"light"},score:{cross:0,zero:0},winner:{cross:!1,zero:!1,combo:null},sound:{muted:!1},chat:[],aiName:null},this.#s()}#s(){this.#e.subscribe(S,this.saveScore.bind(this)),this.#e.subscribe(P,this.saveBoard.bind(this)),this.#e.subscribe(Ge,this.saveSoundState.bind(this)),this.#e.subscribe(We,this.saveTheme.bind(this)),this.#e.subscribe(B,this.saveChat.bind(this)),this.#e.subscribe(ae,this.saveAIPerson.bind(this)),this.#e.subscribe(ee,this.saveActivePlayerMark.bind(this)),this.#e.subscribe(M,this.saveWinner.bind(this)),this.#e.subscribe(O,this.resetWinner.bind(this)),this.#e.subscribe(H,this.resetWinner.bind(this)),this.#e.subscribe(V,this.resetChat.bind(this)),this.#e.subscribe(N,this.onGameStartHandler.bind(this))}onGameStartHandler(){this.#t.aiName==="random"&&(this.#t.aiName=v(c.AI.nicknames),this.#i())}resetChat(){this.#t.chat=[],this.#i()}saveAIPerson(e){e.detail.nickname==="random"?this.#t.aiName=v(c.AI.nicknames):this.#t.aiName=e.detail.nickname,this.#i()}resetWinner(){this.#t.winner={cross:!1,zero:!1,combo:null},this.#i()}saveActivePlayerMark(e){this.#t.player={...this.#t.player,activePlayerMark:e.detail.activePlayerMark},this.#i()}saveChat(e){this.#t.chat.push({nickname:e.detail.nickname,message:e.detail.speach,className:e.detail.className,chance:e.detail.chance}),this.#t.chat.length>20&&(this.#t.chat=this.#t.chat.slice(-20)),this.#i()}saveWinner(e){this.#t.winner={cross:e.detail.winner===u.Cross,zero:e.detail.winner===u.Zero,combo:e.detail.combo}}saveTheme(e){this.#t.theme={scheme:e.detail.theme},this.#i()}saveSoundState(e){this.#t.sound={muted:e.detail.muted},this.#i()}saveBoard(e){this.#t.board=e.detail.board,this.#i()}saveScore(e){this.#t.score={cross:e.detail.cross,zero:e.detail.zero},this.#i()}set(e){this.#t=e,this.#i()}#i(){localStorage.state=JSON.stringify(this.#t)}get state(){return this.#t}loadFromLocalStorage(){const e=localStorage.state;return e?JSON.parse(e):null}}function Rs(s){s.register(new ie).register(new oe).register(new se).register(new re);const e=s.get(ie),t=new Os({dispatcher:e}),i=s.get(oe,e,t),r=s.get(se,e,t.state.board.cells),n=s.get(re,e,r,i,t);return s.register(new Pe(c.UI.board)).register(new Re(c.sounds.win)).register(new Xe(c.UI.gameControls)).register(new qe(c.UI.chat.chat)).register(new je({crossEl:c.UI.score.cross,zeroEl:c.UI.score.zero})).register(new Je(c.UI.timer)).register(new ze(c.UI.modal)).register(new Ze(c.UI.chooseModal)),s.register(new Ne(n,e,t)).register(new ke(n,e,t)).register(new Le(n,e,t)).register(new Te(n,e,t)).register(new $e(n,e,t)).register(new He(n,e,t)).register(new Be(n,e,t)).register(new Ve(n,e,t)).register(new Ue(n,e,t)),s}class _e{#e=new Map;constructor(...e){for(const t of e){if(!(t instanceof D)&&!(t instanceof x)&&!(t instanceof k))throw new te(t.constructor.name);if(this.#e.has(t.constructor))throw new pe(t.constructor.name);this.#e.set(t.constructor,t)}}get(e){const t=this.#e.get(e);if(!t)throw new Ot(e.name);return t}add(e){if(!(e instanceof D))throw new te(e);if(this.has(e.constructor))throw new pe(e);this.#e.set(e.constructor,e)}validate(e,t){this.#e.forEach(i=>{e(i)||t(i)})}has(e){return this.#e.has(e)}}class zs{#e=new Map;#t=new _e;constructor(...e){this.#t=new _e(...e),this.#s()}#s(){this.#t.validate(e=>e instanceof D,e=>{throw new te(e?.constructor?.name)})}register(e){try{this.#t.add(e),this.#s()}catch(t){j.error(t)}return this}get(e,...t){if(!this.#r(e)){this.#i(e)||this.#t.add(e);const i=this.#t.get(e).create(...t);return this.#e.set(e,i),this.#e.get(e)}return this.#e.get(e)}clear(e){e?this.#e.delete(e):this.#e.clear()}#i(e){return this.#t.has(e)}#r(e){return this.#e.has(e)}}class js{#e=new zs;#t={};#s={};#i={};#r(){Rs(this.#e),this.#t.dispatcher=this.#e.get(ie),this.#t.board=this.#e.get(se,this.#t,this.#t.dispatcher),this.#t.game=this.#e.get(re,this.#t.dispatcher,this.#t.board),this.#t.score=this.#e.get(oe,null),this.#s.board=this.#e.get(Pe),this.#s.effects=this.#e.get(Re,c.sounds.win),this.#s.score=this.#e.get(je),this.#s.modal=this.#e.get(ze),this.#s.controls=this.#e.get(Xe,c.UI.gameControls),this.#s.chat=this.#e.get(qe,c.UI.chat.chat),this.#s.timer=this.#e.get(Je,c.UI.timer),this.#s.choose=this.#e.get(Ze,c.UI.chooseModal),this.#i.controls=this.#e.get($e,this.#t.game,this.#t.dispatcher,this.#s.controls),this.#i.chat=this.#e.get(Be,this.#s.chat),this.#i.board=this.#e.get(Ne,this.#t.game.board,this.#s.board),this.#i.effects=this.#e.get(ke,this.#s.effects),this.#i.score=this.#e.get(Le,this.#s.score),this.#i.modal=this.#e.get(Te,this.#s.modal),this.#i.timer=this.#e.get(Ve,this.#s.timer),this.#i.choose=this.#e.get(Ue,this.#s.choose),this.#i.ai=this.#e.get(He,null),this.#o()}#o(){this.#s.controls.setOnRestartGameButtonClick(this.#i.controls.onRestartGameHandler.bind(this.#i.controls)),this.#s.board.setOnCellClick(this.#i.board.handleCellClick.bind(this.#i.board)),this.#s.modal.setOnClose(this.#i.modal.handleModalClose.bind(this.#i.modal)),this.#s.controls.setOnOpenAIChooseButton(this.#i.controls.onOpenAIChooseHandler.bind(this.#i.controls)),this.#s.controls.setOnToggleVolumeButtonClick(this.#i.controls.onToggleVolumeHandler.bind(this.#i.controls)),this.#s.controls.setOnSwitchColorThemeButtonClick(this.#i.controls.onSwitchColorThemeHandler.bind(this.#i.controls)),this.#s.controls.setOnGiveUpButtonClick(this.#i.controls.onGiveUpHandler.bind(this.#i.controls))}run(){this.#r();for(const e of Object.values(this.#i))e.boot();this.#t.dispatcher.dispatch(new N)}}const Ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const Ke=([s,e,t])=>{const i=document.createElementNS("http://www.w3.org/2000/svg",s);return Object.keys(e).forEach(r=>{i.setAttribute(r,String(e[r]))}),t?.length&&t.forEach(r=>{const n=Ke(r);i.appendChild(n)}),i},Hs=(s,e={})=>{const i={...Ye,...e};return Ke(["svg",i,s])};const Bs=s=>Array.from(s.attributes).reduce((e,t)=>(e[t.name]=t.value,e),{}),Us=s=>typeof s=="string"?s:!s||!s.class?"":s.class&&typeof s.class=="string"?s.class.split(" "):s.class&&Array.isArray(s.class)?s.class:"",Gs=s=>s.flatMap(Us).map(t=>t.trim()).filter(Boolean).filter((t,i,r)=>r.indexOf(t)===i).join(" "),Ws=s=>s.replace(/(\w)(\w*)(_|-|\s*)/g,(e,t,i)=>t.toUpperCase()+i.toLowerCase()),Ee=(s,{nameAttr:e,icons:t,attrs:i})=>{const r=s.getAttribute(e);if(r==null)return;const n=Ws(r),l=t[n];if(!l)return console.warn(`${s.outerHTML} icon name was not found in the provided icons object.`);const h=Bs(s),d={...Ye,"data-lucide":r,...i,...h},m=Gs(["lucide",`lucide-${r}`,h,i]);m&&Object.assign(d,{class:m});const p=Hs(l,d);return s.parentNode?.replaceChild(p,s)};const $s=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528"}]];const Vs=[["path",{d:"M4 5h16"}],["path",{d:"M4 12h16"}],["path",{d:"M4 19h16"}]];const qs=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];const Zs=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}],["path",{d:"M16 16h5v5"}]];const Xs=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];const Js=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];const Ys=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]];const Ks=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]];const Qe=({icons:s={},nameAttr:e="data-lucide",attrs:t={},root:i=document,inTemplates:r}={})=>{if(!Object.values(s).length)throw new Error(`Please provide an icons object.
If you want to use all the icons you can import it like:
 \`import { createIcons, icons } from 'lucide';
lucide.createIcons({icons});\``);if(typeof i>"u")throw new Error("`createIcons()` only works in a browser environment.");if(Array.from(i.querySelectorAll(`[${e}]`)).forEach(l=>Ee(l,{nameAttr:e,icons:s,attrs:t})),r&&Array.from(i.querySelectorAll("template")).forEach(h=>Qe({icons:s,nameAttr:e,attrs:t,root:h.content,inTemplates:r})),e==="data-lucide"){const l=i.querySelectorAll("[icon-name]");l.length>0&&(console.warn("[Lucide] Some icons were found with the now deprecated icon-name attribute. These will still be replaced for backwards compatibility, but will no longer be supported in v1.0 and you should switch to data-lucide"),Array.from(l).forEach(h=>Ee(h,{nameAttr:"icon-name",icons:s,attrs:t})))}};Qe({icons:{Settings:Xs,RefreshCcw:Zs,Volume2:Ys,VolumeX:Ks,Sun:Js,Moon:qs,Flag:$s,Menu:Vs}});new js().run();
